<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<meta name="description" content="Graphite Base Types specification">
<meta name="keywords" content="openehr, identifiers, types">
<title>Base Types</title>
<link rel="stylesheet" href="https://specifications.openehr.org/styles/openehr.css">
<link rel="stylesheet" href="https://specifications.openehr.org/styles/pygments-default.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#_base_types">Base Types</a>
<ul class="sectlevel1">
<li><a href="#_amendment_record">Amendment Record</a></li>
<li><a href="#_acknowledgements">Acknowledgements</a>
<ul class="sectlevel2">
<li><a href="#_authors">Authors</a></li>
<li><a href="#_contributors">Contributors</a></li>
<li><a href="#_trademarks">Trademarks</a></li>
</ul>
</li>
<li><a href="#_preface">1. Preface</a>
<ul class="sectlevel2">
<li><a href="#_purpose">1.1. Purpose</a></li>
<li><a href="#_related_documents">1.2. Related Documents</a></li>
<li><a href="#_status">1.3. Status</a></li>
<li><a href="#_feedback">1.4. Feedback</a></li>
</ul>
</li>
<li><a href="#_overview">2. Overview</a></li>
<li><a href="#_definitions_package">3. Definitions Package</a>
<ul class="sectlevel2">
<li><a href="#_overview_2">3.1. Overview</a></li>
<li><a href="#_class_definitions">3.2. Class Definitions</a>
<ul class="sectlevel3">
<li><a href="#_basic_definitions_class">3.2.1. Basic_definitions Class</a></li>
<li><a href="#_openehr_definitions_class">3.2.2. Openehr_definitions Class</a></li>
<li><a href="#_validity_kind_enumeration">3.2.3. Validity_kind Enumeration</a></li>
<li><a href="#_version_status_enumeration">3.2.4. Version_status Enumeration</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_builtins_package">4. Builtins Package</a>
<ul class="sectlevel2">
<li><a href="#_overview_3">4.1. Overview</a></li>
<li><a href="#_class_definitions_2">4.2. Class Definitions</a>
<ul class="sectlevel3">
<li><a href="#_env_interface">4.2.1. Env Interface</a></li>
<li><a href="#_locale_interface">4.2.2. Locale Interface</a></li>
<li><a href="#_statistical_evaluator_interface">4.2.3. Statistical_evaluator Interface</a></li>
<li><a href="#_math_interface">4.2.4. Math Interface</a></li>
<li><a href="#_quantity_converter_interface">4.2.5. Quantity_converter Interface</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_identification_package">5. Identification Package</a>
<ul class="sectlevel2">
<li><a href="#_overview_4">5.1. Overview</a></li>
<li><a href="#_requirements">5.2. Requirements</a></li>
<li><a href="#_design_approach">5.3. Design Approach</a></li>
<li><a href="#_primitive_identifiers">5.4. Primitive Identifiers</a>
<ul class="sectlevel3">
<li><a href="#_class_descriptions">5.4.1. Class Descriptions</a>
<ul class="sectlevel4">
<li><a href="#_primitive_id_class">5.4.1.1. Primitive_id Class</a></li>
<li><a href="#_iso_oid_class">5.4.1.2. Iso_oid Class</a></li>
<li><a href="#_uuid_class">5.4.1.3. Uuid Class</a></li>
<li><a href="#_internet_id_class">5.4.1.4. Internet_id Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_instance_identifiers">5.5. Instance Identifiers</a>
<ul class="sectlevel3">
<li><a href="#_identifying_versions_within_openehr_versioned_containers">5.5.1. Identifying Versions within openEHR Versioned Containers</a></li>
<li><a href="#_class_descriptions_2">5.5.2. Class Descriptions</a>
<ul class="sectlevel4">
<li><a href="#_object_id_class">5.5.2.1. Object_id Class</a></li>
<li><a href="#_object_version_id_class">5.5.2.2. Object_version_id Class</a></li>
<li><a href="#_version_tree_id_class">5.5.2.3. Version_tree_id Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_knowledge_artifact_identifiers">5.6. Knowledge Artifact Identifiers</a>
<ul class="sectlevel3">
<li><a href="#_character_set">5.6.1. Character Set</a></li>
<li><a href="#_case">5.6.2. Case</a></li>
<li><a href="#_archetype_identifiers">5.6.3. Archetype Identifiers</a></li>
<li><a href="#_terminology_identifiers">5.6.4. Terminology Identifiers</a></li>
<li><a href="#_equivalence">5.6.5. Equivalence</a></li>
<li><a href="#_class_descriptions_3">5.6.6. Class Descriptions</a>
<ul class="sectlevel4">
<li><a href="#_artifact_id_class">5.6.6.1. Artifact_id Class</a></li>
<li><a href="#_archetype_id_class">5.6.6.2. Archetype_id Class</a></li>
<li><a href="#_archetype_hrid_class">5.6.6.3. Archetype_hrid Class</a></li>
<li><a href="#_terminology_id_class">5.6.6.4. Terminology_id Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_references">5.7. References</a>
<ul class="sectlevel3">
<li><a href="#_class_descriptions_4">5.7.1. Class Descriptions</a>
<ul class="sectlevel4">
<li><a href="#_object_ref_class">5.7.1.1. Object_ref Class</a></li>
<li><a href="#_locatable_ref_class">5.7.1.2. Locatable_ref Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_syntaxes">5.8. Syntaxes</a></li>
</ul>
</li>
<li><a href="#_archetyped_package">6. Archetyped Package</a>
<ul class="sectlevel2">
<li><a href="#_overview_5">6.1. Overview</a>
<ul class="sectlevel3">
<li><a href="#_the_pathable_class">6.1.1. The Pathable Class</a></li>
<li><a href="#_the_locatable_class">6.1.2. The Locatable Class</a>
<ul class="sectlevel4">
<li><a href="#_unique_node_identification">6.1.2.1. Unique Node Identification</a></li>
</ul>
</li>
<li><a href="#_feeder_system_audit">6.1.3. Feeder System Audit</a>
<ul class="sectlevel4">
<li><a href="#_requirements_2">6.1.3.1. Requirements</a></li>
<li><a href="#_design_principles">6.1.3.2. Design Principles</a></li>
<li><a href="#_meta_data">6.1.3.3. Meta-data</a></li>
<li><a href="#_traceability">6.1.3.4. Traceability</a></li>
<li><a href="#_version_detection">6.1.3.5. Version Detection</a></li>
<li><a href="#_duplicate_detection">6.1.3.6. Duplicate Detection</a></li>
<li><a href="#_differentially_coded_data">6.1.3.7. Differentially Coded Data</a></li>
<li><a href="#_using_feeder_audit_in_converted_data">6.1.3.8. Using Feeder Audit in Converted Data</a></li>
<li><a href="#_structural_correspondence">6.1.3.9. Structural Correspondence</a></li>
<li><a href="#_original_content">6.1.3.10. Original Content</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_class_definitions_3">6.2. Class Definitions</a>
<ul class="sectlevel3">
<li><a href="#_pathable_class">6.2.1. Pathable Class</a></li>
<li><a href="#_locatable_class">6.2.2. Locatable Class</a></li>
<li><a href="#_archetyped_class">6.2.3. Archetyped Class</a></li>
<li><a href="#_link_class">6.2.4. Link Class</a></li>
<li><a href="#_feeder_audit_class">6.2.5. Feeder_audit Class</a></li>
<li><a href="#_feeder_audit_details_class">6.2.6. Feeder_audit_details Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_reference_package">7. Reference Package</a>
<ul class="sectlevel2">
<li><a href="#_overview_6">7.1. Overview</a></li>
<li><a href="#_design_principles_2">7.2. Design Principles</a>
<ul class="sectlevel3">
<li><a href="#_referring_to_demographic_entities">7.2.1. Referring to Demographic Entities</a>
<ul class="sectlevel4">
<li><a href="#_party_self_and_referring_to_the_patient_from_the_ehr">7.2.1.1. Party_self and Referring to the Patient from the EHR</a></li>
</ul>
</li>
<li><a href="#_participation">7.2.2. Participation</a></li>
<li><a href="#_audit_information">7.2.3. Audit Information</a>
<ul class="sectlevel4">
<li><a href="#_audit_details">7.2.3.1. Audit Details</a></li>
<li><a href="#_revision_history">7.2.3.2. Revision History</a></li>
</ul>
</li>
<li><a href="#_attestation">7.2.4. Attestation</a></li>
</ul>
</li>
<li><a href="#_class_descriptions_5">7.3. Class Descriptions</a>
<ul class="sectlevel3">
<li><a href="#_party_proxy_class">7.3.1. Party_proxy Class</a></li>
<li><a href="#_party_self_class">7.3.2. Party_self Class</a></li>
<li><a href="#_party_identified_class">7.3.3. Party_identified Class</a></li>
<li><a href="#_party_related_class">7.3.4. Party_related Class</a></li>
<li><a href="#_participation_class">7.3.5. Participation Class</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock text-center">
<div class="content">
<img src="https://uploads-ssl.webflow.com/63570cd7d4eda80d654ccf14/64027a592d749e7df28c6248_primary-graphite.svg" alt="openEHR logo">
</div>
</div>
</div>
</div>
<h1 id="_base_types" class="sect0"><a class="anchor" href="#_base_types"></a>Base Types</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all fit-content spread">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong>Issuer</strong>: <a href="http://graphitehealth.io" target="_blank" rel="noopener">Graphite Platform Community</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Release</strong>: BASE latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Status</strong>: STABLE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Revision</strong>: <a href="#latest_issue">[latest_issue]</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Date</strong>: <a href="#latest_issue_date">[latest_issue_date]</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Keywords</strong>: openehr, identifiers, types</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2">&#169; 2016 - 2023 Graphite Platform Publishing</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><a href="http://graphitehealth.io" target="_blank" rel="noopener">Graphite Platforms</a> is an independent, non-profit foundation.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Licence</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="https://specifications.openehr.org/images/cc-by-nd-88x31.png" alt="image"></span> Creative Commons Attribution-NoDerivs 3.0 Unported. <a href="https://creativecommons.org/licenses/by-nd/3.0/" class="bare">https://creativecommons.org/licenses/by-nd/3.0/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Support</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Issues: <a href="https://specifications.graphitehealth.io/components/BASE/open_issues" target="_blank" rel="noopener">Report an Issue</a><br>
 Web: <a href="https://specifications.graphitehealth.io" target="_blank" rel="noopener">specifications.GraphiteHealth.io</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_amendment_record"><a class="anchor" href="#_amendment_record"></a>Amendment Record</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 54.5454%;">
<col style="width: 18.1818%;">
<col style="width: 18.1819%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Issue</th>
<th class="tableblock halign-left valign-top">Details</th>
<th class="tableblock halign-left valign-top">Raiser</th>
<th class="tableblock halign-left valign-top">Completed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue"></a>0.1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial Writing: based on openEHR Base Types Model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue_date"></a>10 Apr 2023</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_acknowledgements"><a class="anchor" href="#_acknowledgements"></a>Acknowledgements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_authors"><a class="anchor" href="#_authors"></a>Authors</h3>
<div class="paragraph">
<p>This specification is developed and maintained by the <a href="https://www.openehr.org/programs/specification/editorialcommittee" target="_blank" rel="noopener">openEHR Specifications Editorial Committee</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_contributors"><a class="anchor" href="#_contributors"></a>Contributors</h3>
<div class="paragraph">
<p>This specification has benefited from formal and informal input from the openEHR and wider health informatics community.</p>
</div>
</div>
<div class="sect2">
<h3 id="_trademarks"><a class="anchor" href="#_trademarks"></a>Trademarks</h3>
<div class="ulist">
<ul>
<li>
<p>'openEHR' is a registered trademark of the openEHR Foundation</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preface"><a class="anchor" href="#_preface"></a>1. Preface</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_purpose"><a class="anchor" href="#_purpose"></a>1.1. Purpose</h3>
<div class="paragraph">
<p>This document describes the Graphite Base Types, a collection of general types used by other specifications.</p>
</div>
<div class="paragraph">
<p>The intended audience includes implementers and health IT standards experts.</p>
</div>
</div>
<div class="sect2">
<h3 id="_related_documents"><a class="anchor" href="#_related_documents"></a>1.2. Related Documents</h3>
<div class="paragraph">
<p>Prerequisite documents for reading this document include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="https://specifications.openehr.org/releases/BASE/latest/architecture_overview.html" target="_blank" rel="noopener">openEHR Architecture Overview</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_status"><a class="anchor" href="#_status"></a>1.3. Status</h3>
<div class="paragraph">
<p>This specification is in the STABLE state. The development version of this document can be found at <a href="https://specifications.graphitehealth.io/releases/BASE/latest/base_types.html" target="_blank" rel="noopener">https://specifications.graphitehealth.io/releases/BASE/latest/base_types.html</a>.</p>
</div>
<div class="paragraph">
<p>Known omissions or questions are indicated in the text with a 'to be determined' paragraph, as follows:</p>
</div>
<div class="paragraph tbd">
<p><strong>TBD</strong>: (example To Be Determined paragraph)</p>
</div>
</div>
<div class="sect2">
<h3 id="_feedback"><a class="anchor" href="#_feedback"></a>1.4. Feedback</h3>
<div class="paragraph">
<p>Feedback may be provided on the <a href="https://specifications.graphitehealth.io" target="_blank" rel="noopener">Graphite forum</a>.</p>
</div>
<div class="paragraph">
<p>Issues may be raised on the <a href="https://specifications.graphitehealth.io/components/BASE/open_issues" target="_blank" rel="noopener">specifications Problem Report tracker</a>.</p>
</div>
<div class="paragraph">
<p>To see changes made due to previously reported issues, see the <a href="https://specifications.graphitehealth.io/components/BASE/history" target="_blank" rel="noopener">BASE component Change Request tracker</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview"><a class="anchor" href="#_overview"></a>2. Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Graphite Base Types (<code>org.graphite.base_types</code> package) consist of basic types used globally throughout the Graphite components and specifications, including definitions, various enumerations, built-in types providing utility functions, identifier types and terminology-related types. The latter two categories are intended to support all kinds of references: to terminology terms, informational objects, real world entities.</p>
</div>
<div class="paragraph">
<p>The package structure is illustrated below.</p>
</div>
<div id="base_types_packages" class="imageblock text-center text-center">
<div class="content">
<img src="UML/diagrams/BASE-base_types-packages.svg" alt="BASE base types packages">
</div>
<div class="title">Figure 1. base.base_types Package</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_definitions_package"><a class="anchor" href="#_definitions_package"></a>3. Definitions Package</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_2"><a class="anchor" href="#_overview_2"></a>3.1. Overview</h3>
<div class="paragraph">
<p>The <code>base_types.definitions</code> package shown below defines symbolic definitions used by the Graphite models.</p>
</div>
<div id="base_definition_types" class="imageblock text-center text-center">
<div class="content">
<img src="UML/diagrams/BASE-base_types.definitions.svg" alt="BASE base types.definitions" width="65%">
</div>
<div class="title">Figure 2. base.base_types.definitions package</div>
</div>
</div>
<div class="sect2">
<h3 id="_class_definitions"><a class="anchor" href="#_class_definitions"></a>3.2. Class Definitions</h3>
<div class="sect3">
<h4 id="_basic_definitions_class"><a class="anchor" href="#_basic_definitions_class"></a>3.2.1. Basic_definitions Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Basic_definitions</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Defines globally used constant values.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Constants</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>CR</strong>: <code>char&#160;=&#160;'\015'</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Carriage return character.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>LF</strong>: <code>char&#160;=&#160;'\012'</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Line feed character.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Any_type_name</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a>&#160;=&#160;"Any"</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Regex_any_pattern</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a>&#160;=&#160;".&#42;"</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default_encoding</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a>&#160;=&#160;"UTF-8"</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>None_type_name</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a>&#160;=&#160;"None"</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_openehr_definitions_class"><a class="anchor" href="#_openehr_definitions_class"></a>3.2.2. Openehr_definitions Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Openehr_definitions</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Inheritance class to provide access to constants defined in other packages.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_basic_definitions_class">Basic_definitions</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Local_terminology_id</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a><br>
{default&#160;=&#160;"local"}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Predefined terminology identifier to indicate it is local to the knowledge resource in which it occurs, e.g. an archetype</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_validity_kind_enumeration"><a class="anchor" href="#_validity_kind_enumeration"></a>3.2.3. Validity_kind Enumeration</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Enumeration</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Validity_kind</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>An enumeration of three values that may commonly occur in constraint models.</p>
</div>
<div class="paragraph">
<p>Use as the type of any attribute within this model, which expresses constraint on some attribute in a class in a reference model. For example to indicate validity
of Date/Time fields.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">mandatory</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Constant to indicate mandatory presence of something.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Constant to indicate optional presence of something.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">prohibited</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Constant to indicate disallowed presence of something.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_version_status_enumeration"><a class="anchor" href="#_version_status_enumeration"></a>3.2.4. Version_status Enumeration</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Enumeration</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Version_status</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Status of a versioned artefact, as one of a number of possible values: uncontrolled, prerelease, release, build.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">alpha</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Value representing a version which is 'unstable', i.e. contains an unknown size of change with respect to its base version. Rendered with the build number as a string in the form <code>N.M.P-alpha.B</code> e.g. <code>2.0.1-alpha.154</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">beta</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Value representing a version which is 'beta', i.e. contains an unknown but reducing size of change with respect to its base version. Rendered with the build number as a string in the form <code>N.M.P-beta.B</code> e.g. <code>2.0.1-beta.154</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">release_candidate</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Value representing a version which is 'release candidate', i.e. contains only patch-level changes on the base version. Rendered as a string as <code>N.M.P-rc.B</code> e.g. <code>2.0.1-rc.27</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">released</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Value representing a version which is 'released', i.e. is the definitive base version. <code>N.M.P</code> e.g. <code>2.0.1</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">build</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Value representing a version which is a build of the current base release. Rendered with the build number as a string in the form <code>N.M.P+B</code> e.g. <code>2.0.1+33</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_builtins_package"><a class="anchor" href="#_builtins_package"></a>4. Builtins Package</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_3"><a class="anchor" href="#_overview_3"></a>4.1. Overview</h3>
<div class="paragraph">
<p>The <code>base_types.builtins</code> package includes interface classes that provide common utility functions. It is shown below.</p>
</div>
<div id="base_builtins" class="imageblock text-center text-center">
<div class="content">
<img src="UML/diagrams/BASE-base_types.builtins.svg" alt="BASE base types.builtins" width="100%">
</div>
<div class="title">Figure 3. base.base_types.builtins Package</div>
</div>
</div>
<div class="sect2">
<h3 id="_class_definitions_2"><a class="anchor" href="#_class_definitions_2"></a>4.2. Class Definitions</h3>
<div class="sect3">
<h4 id="_env_interface"><a class="anchor" href="#_env_interface"></a>4.2.1. Env Interface</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Interface</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Env</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Class representing the real-world environment, providing basic information like current time, date, etc.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>current_date</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_date_class" target="_blank" rel="noopener">Date</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Return today&#8217;s date in the current locale.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>current_time</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_time_class" target="_blank" rel="noopener">Time</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Return current time in the current locale.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>current_date_time</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_date_time_class" target="_blank" rel="noopener">Date_time</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Return current date/time in the current locale.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>current_time_zone</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_timezone_class" target="_blank" rel="noopener">Timezone</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Return the timezone of the current locale.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_locale_interface"><a class="anchor" href="#_locale_interface"></a>4.2.2. Locale Interface</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Interface</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Locale</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Class representing current Locale.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>primary_language</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_terminology_code_class" target="_blank" rel="noopener">Terminology_code</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Primary language of the current locale.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_statistical_evaluator_interface"><a class="anchor" href="#_statistical_evaluator_interface"></a>4.2.3. Statistical_evaluator Interface</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Interface</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Statistical_evaluator</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>A basic statistical evaluator class providing common functions on collections of numbers.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sum</strong> (<br>
vals: <code><a href="/releases/BASE/latest/foundation_types.html#_container_class">Container<sup></a>&lt;<a href="/releases/BASE/latest/foundation_types.html#_numeric_class">Numeric</sup></a>&gt;[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_double_class" target="_blank" rel="noopener">Double</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Sum of a container of values.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>avg</strong> (<br>
vals: <code><a href="/releases/BASE/latest/foundation_types.html#_container_class">Container<sup></a>&lt;<a href="/releases/BASE/latest/foundation_types.html#_numeric_class">Numeric</sup></a>&gt;[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_double_class" target="_blank" rel="noopener">Double</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Synonym for <code><em>mean()</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>mean</strong> (<br>
vals: <code><a href="/releases/BASE/latest/foundation_types.html#_container_class">Container<sup></a>&lt;<a href="/releases/BASE/latest/foundation_types.html#_numeric_class">Numeric</sup></a>&gt;[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_double_class" target="_blank" rel="noopener">Double</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mean (arithmetic average) of a container of values.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>median</strong> (<br>
vals: <code><a href="/releases/BASE/latest/foundation_types.html#_container_class">Container<sup></a>&lt;<a href="/releases/BASE/latest/foundation_types.html#_numeric_class">Numeric</sup></a>&gt;[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_numeric_class" target="_blank" rel="noopener">Numeric</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Return numerically centre value in ordered form of container contents.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>mode</strong> (<br>
vals: <code><a href="/releases/BASE/latest/foundation_types.html#_container_class">Container<sup></a>&lt;<a href="/releases/BASE/latest/foundation_types.html#_numeric_class">Numeric</sup></a>&gt;[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_numeric_class" target="_blank" rel="noopener">Numeric</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mode (most frequent) of a container of values.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>max</strong> (<br>
vals: <code><a href="/releases/BASE/latest/foundation_types.html#_container_class">Container<sup></a>&lt;<a href="/releases/BASE/latest/foundation_types.html#_numeric_class">Numeric</sup></a>&gt;[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_numeric_class" target="_blank" rel="noopener">Numeric</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Maximum of a container of values.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>min</strong> (<br>
vals: <code><a href="/releases/BASE/latest/foundation_types.html#_container_class">Container<sup></a>&lt;<a href="/releases/BASE/latest/foundation_types.html#_numeric_class">Numeric</sup></a>&gt;[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_numeric_class" target="_blank" rel="noopener">Numeric</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Minimum of a container of values.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>count</strong> (<br>
vals: <code><a href="/releases/BASE/latest/foundation_types.html#_container_class">Container<sup></a>&lt;<a href="/releases/BASE/latest/foundation_types.html#_numeric_class">Numeric</sup></a>&gt;[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_numeric_class" target="_blank" rel="noopener">Numeric</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Return the number of items in <code><em>vals</em></code>, i.e. <code><em>vals.count</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>std_dev</strong> (<br>
vals: <code><a href="/releases/BASE/latest/foundation_types.html#_container_class">Container<sup></a>&lt;<a href="/releases/BASE/latest/foundation_types.html#_numeric_class">Numeric</sup></a>&gt;[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_double_class" target="_blank" rel="noopener">Double</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Compute standard deviation of a container of values.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_math_interface"><a class="anchor" href="#_math_interface"></a>4.2.4. Math Interface</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Interface</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Math</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Mathematical computation.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ln</strong> (<br>
v: <code><a href="/releases/BASE/latest/foundation_types.html#_numeric_class" target="_blank" rel="noopener">Numeric</a>[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_double_class" target="_blank" rel="noopener">Double</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Compute natural log of v.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>log</strong> (<br>
v: <code><a href="/releases/BASE/latest/foundation_types.html#_numeric_class" target="_blank" rel="noopener">Numeric</a>[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_double_class" target="_blank" rel="noopener">Double</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Compute base 10 log of v.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sin</strong> (<br>
(v: <code><a href="/releases/BASE/latest/foundation_types.html#_numeric_class" target="_blank" rel="noopener">Numeric</a>[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_double_class" target="_blank" rel="noopener">Double</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Compute sin(v).</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_quantity_converter_interface"><a class="anchor" href="#_quantity_converter_interface"></a>4.2.5. Quantity_converter Interface</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Interface</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Quantity_converter</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Quantity conversion.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>convert_value</strong> (<br>
value: <code><a href="/releases/BASE/latest/foundation_types.html#_real_class" target="_blank" rel="noopener">Real</a>[1]</code>,<br>
from_units: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a>[1]</code>,<br>
to_units: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a>[1]</code>,<br>
property: <code><a href="/releases/BASE/latest/foundation_types.html#_terminology_code_class" target="_blank" rel="noopener">Terminology_code</a>[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_real_class" target="_blank" rel="noopener">Real</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Convert <code><em>value</em></code> of physical property type (e.g. 'pressure' etc) from one units to another.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_identification_package"><a class="anchor" href="#_identification_package"></a>5. Identification Package</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_4"><a class="anchor" href="#_overview_4"></a>5.1. Overview</h3>
<div class="paragraph">
<p>The <code>base_types.identification</code> package describes a model of references and identifiers for information entities and is illustrated below.</p>
</div>
<div id="base_identification_types" class="imageblock text-center text-center">
<div class="content">
<img src="UML/diagrams/BASE-base_types.identification.svg" alt="BASE base types.identification">
</div>
<div class="title">Figure 4. base.base_types.identification Package</div>
</div>
</div>
<div class="sect2">
<h3 id="_requirements"><a class="anchor" href="#_requirements"></a>5.2. Requirements</h3>
<div class="paragraph">
<p>The types within this package are designed for identifying and referencing the following kinds of informational entities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>knowledge artefacts</strong>: such as terminologies and terms, archetypes, etc.;</p>
</li>
<li>
<p><strong>data instances</strong>: including healthcare-related data, demographic data and so on.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The former category is understood as 'source' artifacts in the same sense as 'source code', and accordingly have human-comprehensible identifiers in the same way that programming source files do. Compiled or generated forms of these artifacts may also have machine identifiers.</p>
</div>
<div class="paragraph">
<p>The latter category is understood as technical instances of model entities, for which computational identifiers are required.</p>
</div>
<div class="paragraph">
<p>Identifiers for both categories of entity require support for versioning. For knowledge artifacts, versions are assumed to be represented by the 3-part <a href="http://semver.org" target="_blank" rel="noopener">Semantic Versioning</a> system.</p>
</div>
<div class="paragraph">
<p>For data artifacts, versions follow the general model used in distributed version control systems, such that instances of an original item that have been subsequently modified in different systems ('forking') can be distinguished and merged if necessary.</p>
</div>
</div>
<div class="sect2">
<h3 id="_design_approach"><a class="anchor" href="#_design_approach"></a>5.3. Design Approach</h3>
<div class="paragraph">
<p>A key design decision has been to choose a string representation for all identifiers, with sub-parts being made available by appropriate functions which perform simple parsing on the string. This ensures that the data representation of identifiers (e.g. in XML) is as small as possible, while not losing object-oriented typing.</p>
</div>
</div>
<div class="sect2">
<h3 id="_primitive_identifiers"><a class="anchor" href="#_primitive_identifiers"></a>5.4. Primitive Identifiers</h3>
<div class="paragraph">
<p>Three kinds of types are defined in this package. The abstract UID type and its subtypes correspond to permanent, computationally reliable, primitive identifiers. Such identifiers are regarded as 'primitive' because they are treated as having no further internal structure, in the sense that part of such an identifier is not in general meaningful. The three subtypes <code>UUID</code>, <code>ISO_OID</code> and <code>INTERNET_ID</code> all have these properties, and are commonly accepted ways of uniquely identifying entities in computer systems. In openEHR (and generally in health informatics) they are usually used as parts of other identifiers.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
UUIDs are also commonly known as GUIDs, which may be used as a synonym within implementations.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A consequence of the string representation approach used in these classes is that to set an attribute of type UID from a string value, as would be done when reading from a database, de-serialising from XML or another text form, a piece of code that inspects the string structure has to be used in order to decide which of the subtypes of <code>UID</code> it is. This is a safe thing to do, since all three subtypes have mutually exclusive string patterns, and can easily be distinguished.</p>
</div>
<div class="sect3">
<h4 id="_class_descriptions"><a class="anchor" href="#_class_descriptions"></a>5.4.1. Class Descriptions</h4>
<div class="sect4">
<h5 id="_primitive_id_class"><a class="anchor" href="#_primitive_id_class"></a>5.4.1.1. Primitive_id Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>Primitive_id (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Abstract parent of classes representing unique identifiers which identify information entities in a durable way. UIDs only ever identify one IE in time or space and are never re-used.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>value</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The value of the id.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Value_valid</em>: <code>not value.empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_iso_oid_class"><a class="anchor" href="#_iso_oid_class"></a>5.4.1.2. Iso_oid Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Iso_oid</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Model of ISO&#8217;s Object Identifier (oid) as defined by the standard ISO/IEC 8824. Oids are formed from integers separated by dots. Each non-leaf node in an Oid starting from the left corresponds to an assigning authority, and identifies that authority&#8217;s namespace, inside which the remaining part of the identifier is locally unique.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_primitive_id_class">Primitive_id</a></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_uuid_class"><a class="anchor" href="#_uuid_class"></a>5.4.1.3. Uuid Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Uuid</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Model of the DCE Universal Unique Identifier or UUID which takes the form of hexadecimal integers separated by hyphens, following the pattern 8-4-4-4-12 as defined by the Open Group, CDE 1.1 Remote Procedure Call specification, Appendix A. Also known as a GUID.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_primitive_id_class">Primitive_id</a></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_internet_id_class"><a class="anchor" href="#_internet_id_class"></a>5.4.1.4. Internet_id Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Internet_id</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Model of a reverse internet domain, as used to uniquely identify an internet domain. In the form of a dot-separated string in the reverse order of a domain name, specified by <a href="https://www.rfc-editor.org/info/rfc1034" target="_blank" rel="noopener">IETF RFC 1034</a>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_primitive_id_class">Primitive_id</a></code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_instance_identifiers"><a class="anchor" href="#_instance_identifiers"></a>5.5. Instance Identifiers</h3>
<div class="paragraph">
<p>The <code>OBJECT_ID</code> type and its descendants define instance identifiers for use within openEHR systems.</p>
</div>
<div class="sect3">
<h4 id="_identifying_versions_within_openehr_versioned_containers"><a class="anchor" href="#_identifying_versions_within_openehr_versioned_containers"></a>5.5.1. Identifying Versions within openEHR Versioned Containers</h4>
<div class="paragraph">
<p>The <code>OBJECT_VERSION_ID</code> defines the semantics of the scheme used in openEHR for identifying versions within a versioned container, and uses a three-part identifier, consisting of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>object_id</em></code>: the identifier of the version container, in the form of a UID, typically a UUID;</p>
</li>
<li>
<p><code><em>creating_system_id</em></code>: the identifier of the system in which this version was created, of type UID, typically a reverse domain identifier;</p>
</li>
<li>
<p><code><em>version_tree_id</em></code>: the location in the version tree, as a 1- or 3-part numeric identifier, where the latter variant expresses branching; this is modelled using the <code>VERSION_TREE_ID</code> type.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following provides a typical example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>87284370-2D4B-4e3d-A3F3-F303D2F4F34B::uk.nhs.ehr1::2</pre>
</div>
</div>
<div class="paragraph">
<p>Under this scheme, multiple versions in the same container all have the same value for <code><em>object_id</em></code>, whilst their location in the version tree is given by the combination of the version tree identifier and the identifier of the creating system.</p>
</div>
<div class="paragraph">
<p>The requirements on the <code><em>creating_system_id</em></code> part of the identifier are that it be unique per system, and that it be easy to obtain or generate. It is also helpful if it is a meaningful identifier. The two most practical candidates appear to be UUIDs (which are not meaningful, but are easy to generate) and reverse internet domain identifiers (these are easy to determine if the system has an internet address, and are meaningful and directly processable, however unconnected systems pose a problem). ISO OIDs might also be used. All of these identifier types are accommodated via the use of UID. A full explanation of the version identification scheme and its capabilities is given in the <a href="https://specifications.graphitehealth.io/releases/BASE/latest/change_control.html#_change_control_package">openEHR <code>change_control</code> package</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_class_descriptions_2"><a class="anchor" href="#_class_descriptions_2"></a>5.5.2. Class Descriptions</h4>
<div class="sect4">
<h5 id="_object_id_class"><a class="anchor" href="#_object_id_class"></a>5.5.2.1. Object_id Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Object_id</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Ancestor class of identifiers of informational objects.</p>
</div>
<div class="paragraph">
<p>Object identifiers are used inside an object to identify that object. To identify an object in another service, use an <code>Object_ref</code>, or else use a Uid for local objects identified by UID.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>value</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The value of the id in the form defined below.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>object_id</strong> (): <code><a href="#_uuid_class">Uuid</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Unique identifier for logical object of which this identifier identifies one version; normally the <code><em>object_id</em></code> will be the unique identifier of the version container containing the version referred to by this <code>OBJECT_VERSION_ID</code> instance.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Has_extension_valid</em>: <code>extension.is_empty xor has_extension</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_object_version_id_class"><a class="anchor" href="#_object_version_id_class"></a>5.5.2.2. Object_version_id Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Object_version_id</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Globally unique identifier for one version of a versioned object; lexical form: <code>object_id  '::' creating_system_id  '::' version_tree_id</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_object_id_class">Object_id</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>creating_system_id</strong> (): <code><a href="#_internet_id_class">Internet_id</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Identifier of the system that created the Version corresponding to this Object version id.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>version_tree_id</strong> (): <code><a href="#_version_tree_id_class">Version_tree_id</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tree identifier of this version with respect to other versions in the same version tree, as either 1 or 3 part dot-separated numbers, e.g.  1 ,  2.1.4 .</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>is_branch</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_boolean_class" target="_blank" rel="noopener">Boolean</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>True if this version identifier represents a branch.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_version_tree_id_class"><a class="anchor" href="#_version_tree_id_class"></a>5.5.2.3. Version_tree_id Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Version_tree_id</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Version tree identifier for one version. Lexical form:</p>
</div>
<div class="paragraph">
<p><code>trunk_version [  '.' branch_number  '.' branch_version ]</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>value</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>String form of this identifier.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>trunk_version</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Trunk version number; numbering starts at 1.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>is_branch</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_boolean_class" target="_blank" rel="noopener">Boolean</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>True if this version identifier represents a branch, i.e. has <code><em>branch_number()</em></code> and <code><em>branch_version()</em></code> parts.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>branch_number</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Number of branch from the trunk point; numbering starts at 1.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>branch_version</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Version of the branch; numbering starts at 1.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Value_valid</em>: <code>not value.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Trunk_version_valid</em>: <code>trunk_version /= Void and then trunk_version.is_integer and then trunk_version.as_integer &gt;= 1</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Branch_number_valid</em>: <code>branch_number /= Void implies branch_number.is_integer and then branch_number.as_integer &gt;= 1</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Branch_version_valid</em>: <code>branch_version /= Void implies branch_version.is_integer and then branch_version.as_integer &gt;= 1</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Branch_validity</em>: <code>(branch_number = Void and branch_version = Void ) xor (branch_number /= Void and branch_version /= Void )</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Is_branch_validity</em>: <code>is_branch xor branch_number = Void</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Is_first_validity</em>: <code>not is_first xor trunk_version.is_equal(1)</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_knowledge_artifact_identifiers"><a class="anchor" href="#_knowledge_artifact_identifiers"></a>5.6. Knowledge Artifact Identifiers</h3>
<div class="paragraph">
<p>Knowledge artifact identifiers are defined under the <code>Artifact_id</code> hierarchy.</p>
</div>
<div class="sect3">
<h4 id="_character_set"><a class="anchor" href="#_character_set"></a>5.6.1. Character Set</h4>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
<div class="sect3">
<h4 id="_case"><a class="anchor" href="#_case"></a>5.6.2. Case</h4>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
<div class="sect3">
<h4 id="_archetype_identifiers"><a class="anchor" href="#_archetype_identifiers"></a>5.6.3. Archetype Identifiers</h4>
<div class="paragraph">
<p>The <code>ARCHETYPE_ID</code> subtype defines a multi-axial identifier for openEHR archetypes and templates, meaning that each identifier instance denotes a single archetype within a multi-dimensional space. The space is can be thought of as 3-dimensional, or as a versioned 2-dimensional space, consisting of the following axes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>reference model entity, i.e. target of archetype, defined as:</p>
<div class="ulist">
<ul>
<li>
<p>name of model issuer;</p>
</li>
<li>
<p>name of model (there may be more than one from the same issuer);</p>
</li>
<li>
<p>name of concept in model, i.e. class name</p>
</li>
</ul>
</div>
</li>
<li>
<p>domain concept;</p>
</li>
<li>
<p>version.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The three outer sections are delimited by '.' characters, while the parts of the first section are delimited by <code>-</code> characters. As with any multi-axial identifier, the underlying principle of an archetype identifier is that all parts of the identifier must be able to be considered immutable. This means that no variable characteristic of an archetype (e.g. accrediting authority, which might change due to later accreditation by another authority, or may be multiple) can be included in its identifier. The explicit inclusion of version as part of the identifier means that two 'versions' of an archetype are actually two distinct archetypes. (The rules for archetype versions, revisions and other variants are given in the <a href="https://specifications.openehr.org/releases/AM/latest/Identification.html">openEHR Archetype Identification specification</a>.)</p>
</div>
<div class="paragraph">
<p>Examples of archetype identifiers include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>openEHR-EHR-SECTION.physical_examination.v2</code></p>
</li>
<li>
<p><code>openEHR-EHR-SECTION.physical_examination-prenatal.v1</code></p>
</li>
<li>
<p><code>Hl7-RIM-Act.progress_note.v1</code></p>
</li>
<li>
<p><code>openEHR-EHR-Observation.progress_note-naturopathy.v2</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The grammar of archetype identifiers is given below in <a href="#_syntaxes">Section 5.8</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_terminology_identifiers"><a class="anchor" href="#_terminology_identifiers"></a>5.6.4. Terminology Identifiers</h4>
<div class="paragraph">
<p>The <code>TERMINOLOGY_ID</code> subtype defines a globally unique single string identifier for terminologies. Terminology identifier values may include a version, either as part of the name, and/or according to the syntax defined in section 4.3.12 below. Examples of terminology identifiers include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"SNOMED-CT"</p>
</li>
<li>
<p>"ICD9(1999)"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Currently the best authoritative source for the name part of the identifier (i.e. the part excluding the optional version part in parentheses) is the <a href="https://www.nlm.nih.gov/research/umls/sourcereleasedocs/index.html">US National Library of Medicine UMLS identifiers for included terminologies</a>.</p>
</div>
<div class="paragraph">
<p>The scheme defined by the <code>TERMINOLOGY_ID</code> class provides for the situation where major 'versions' of a terminology such as the World Health Organisation&#8217;s 'ICD10' and 'ICD10AM' (AM = 'Australian modifications') can accommodate a finer grain of versioning or revisioning, e.g.:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"ICD10AM(3rd_ed)"</p>
</li>
<li>
<p>"ICD10AM(4th_ed)"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The version part of a terminology identifier is in theory only absolutely necessary for those terminologies which break the rule that the concept being identified with a code loses or changes its meaning over versions of the terminology. This should not be the case for modern terminologies and ontologies, particularly those designed since the publication of Cimino&#8217;s 'desiderata' (<a href="#Cimino1997">Cimino&#44; 1997</a>) of which the principle of 'concept permanence' is applicable here - "A concept&#8217;s meaning cannot change and it cannot be deleted from the vocabulary". However, there may be older terminologies, or specialised terminologies which may not have obeyed these rules, but which are still used; version ids should always be used for these. At a practical level, versions may be included routinely in some systems to support the potential medico-legal need to prove that a) a given code was in fact defined in the terminology (it may not have existed in an earlier edition) and b) that the meaning assumed in the system
was indeed the one assigned to it in the particular version or edition.</p>
</div>
</div>
<div class="sect3">
<h4 id="_equivalence"><a class="anchor" href="#_equivalence"></a>5.6.5. Equivalence</h4>
<div class="paragraph">
<p>Although there are anomalies in some published terminologies and between some versions or editions of the same terminology, two terminology identifiers that are the same, disregarding the version part, can usually be considered as semantic equivalents in the terminology world. However, depending on which source of strings have been chosen for the name part of the identifier, two different identifiers may also indicate the same terminology, e.g. "ICD10AM_2000" (NLM identifier used in UMLS) and "ICD10AM(2nd_ed)" refer to the same thing.</p>
</div>
</div>
<div class="sect3">
<h4 id="_class_descriptions_3"><a class="anchor" href="#_class_descriptions_3"></a>5.6.6. Class Descriptions</h4>
<div class="sect4">
<h5 id="_artifact_id_class"><a class="anchor" href="#_artifact_id_class"></a>5.6.6.1. Artifact_id Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>Artifact_id (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Identifier type for source knowledge artefacts.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>value</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>String identifier value; syntax defined in descendants.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_archetype_id_class"><a class="anchor" href="#_archetype_id_class"></a>5.6.6.2. Archetype_id Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Archetype_id</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Identifier for archetypes. Ideally these would identify globally unique archetypes.</p>
</div>
<div class="paragraph">
<p>Lexical form: <code>rm_originator  '-' rm_name  '-' rm_entity  '.' concept_name {  '-' specialisation }*  '.v' number</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_artifact_id_class">Artifact_id</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>to_hrid</strong> (): <code><a href="#_archetype_hrid_class">Archetype_hrid</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Generate an <code>Archetype_hrid</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_archetype_hrid_class"><a class="anchor" href="#_archetype_hrid_class"></a>5.6.6.3. Archetype_hrid Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Archetype_hrid</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Human-readable structured identifier (HRID) for an openEHR archetype or template.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>namespace</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Reverse domain name namespace identifier.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>rm_publisher</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Name of the Reference Model publisher.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>rm_package</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Name of the package in whose reachability graph the <code><em>rm_class</em></code> class is found (there can be more than one possibility in many reference models).</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>rm_class</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Name of the root class of this archetype.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>concept_id</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The short concept name of the archetype as used in the multi-axial <code><em>archetype_hrid</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>release_version</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The numeric version of this archetype consisting of 3 parts, e.g. <code>"1.8.2"</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>version_status</strong>: <code><a href="#_version_status_enumeration">Version_status</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The status of the version, i.e.:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>released: (empty string)</p>
</li>
<li>
<p>release_candidate: <code>"rc"</code></p>
</li>
<li>
<p>alpha: <code>"alpha"</code></p>
</li>
<li>
<p>beta: <code>"beta"</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>build_count</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The build count since last increment of any version part.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>qualified_rm_class</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Globally qualified reference model entity, e.g.  <code>"openehr-EHR-Observation"</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>patch_version</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Patch version of this archetype, extracted from <code><em>release_version</em></code>. Equivalent to patch version in patch version in <code>semver.org</code> sytem.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>semantic_id</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The 'interface' form of the HRID, i.e. down to the major version.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>major_version</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Major version of this archetype, extracted from <code><em>release_version</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>minor_version</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Minor version of this archetype, extracted from <code><em>release_version</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>version_id</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Full version identifier string, based on <code><em>release_version</em></code>, <code><em>version_status</em></code>, and <code><em>build_count</em></code> e.g. <code>"1.8.2-rc.4"</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>physical_id</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The 'physical' form of the HRID, i.e. with complete version information specified by <code><em>version_id()</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>to_string</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Inv_rm_publisher_validity</em>: <code>not rm_publisher.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Inv_rm_package_validity</em>: <code>not rm_package.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Inv_class_name_validity</em>: <code>not rm_class.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Inv_concept_id_validity</em>: <code>not concept_id.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Inv_release_version_validity</em>: <code>valid_version (release_version)</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_terminology_id_class"><a class="anchor" href="#_terminology_id_class"></a>5.6.6.4. Terminology_id Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Terminology_id</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Identifier for terminologies such as accessed via a terminology query service. In this class, the value attribute identifies the Terminology in the terminology service, e.g.  SNOMED-CT . A terminology is assumed to be in a particular language, which must be explicitly specified.</p>
</div>
<div class="paragraph">
<p>Lexical form: <code>name [  '(' version  ')' ]</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_artifact_id_class">Artifact_id</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>name</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Return the terminology id (which includes the  version  in some cases). Distinct names correspond to distinct (i.e. non-compatible) terminologies. Thus the names  <code>"ICD10AM"</code> and <code>"ICD10"</code> refer to distinct terminologies.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>version_id</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Version of this terminology, if versioning supported, else the empty string.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references"><a class="anchor" href="#_references"></a>5.7. References</h3>
<div class="paragraph">
<p>All <code>OBJECT_IDs</code> are used as identifier attributes within the thing they identify, in the same way as a database primary key. To refer to an identified object from another object, an instance of the class <code>OBJECT_REF</code> is used, in the same way as a database foreign key. This class supports distributed referencing, and includes the object namespace (typically 1:1 with some service, such as "terminology") and type. The general principle of object references is to be able to refer to an object available in a particular namespace or service. Usually they are used to refer to objects in other services, such as a demographic entity from within an EHR, but they may be used to refer to local objects as well. The type may be the concrete type of the referred-to object (e.g. "GP") or any proper ancestor (e.g. <code>PARTY</code>).</p>
</div>
<div class="paragraph">
<p>TODO: keep type?</p>
</div>
<div class="sect3">
<h4 id="_class_descriptions_4"><a class="anchor" href="#_class_descriptions_4"></a>5.7.1. Class Descriptions</h4>
<div class="sect4">
<h5 id="_object_ref_class"><a class="anchor" href="#_object_ref_class"></a>5.7.1.1. Object_ref Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Object_ref</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Class describing a reference to another object, which may exist locally or be maintained outside the current namespace, e.g. in another service.</p>
</div>
<div class="paragraph">
<p>TODO: keep type?</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>namespace</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Namespace to which this identifier belongs in the local system context (and possibly in any other openEHR compliant environment) e.g.  terminology ,  demographic . These names are not yet standardised. Legal values for <code><em>namespace</em></code> are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>"local"</code></p>
</li>
<li>
<p><code>"unknown"</code></p>
</li>
<li>
<p>a string matching the standard regex <code>[a-zA-Z][a-zA-Z0-9_.:\/&amp;?=+-]*</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that the first two are just special values of the regex, and will be matched by it.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>type</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Name of the  class (concrete or abstract) of object to which this identifier type refers, e.g. <code>PARTY</code>, <code>PERSON</code>,  <code>GUIDELINE</code>  etc. These class names are from the relevant reference model. The type name <code>ANY</code> can be used to indicate that any type is accepted (e.g. if the type is unknown).</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>id</strong>: <code><a href="#_object_id_class">Object_id</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Globally unique id of an object, regardless of where it is stored.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_locatable_ref_class"><a class="anchor" href="#_locatable_ref_class"></a>5.7.1.2. Locatable_ref Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Locatable_ref</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Reference to a <code>Locatable</code> instance inside the top-level content structure inside a <code>VERSION&lt;T&gt;</code> identified by the <code><em>id</em></code> attribute. The <code><em>path</em></code> attribute is applied to the object that <code>VERSION.<em>data</em></code> points to.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_object_ref_class">Object_ref</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>path</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The path to an instance, as an absolute path with respect to the object found at <code>VERSION.<em>data</em></code>. An empty path means that the object referred to by <code><em>id</em></code> is being specified.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>as_uri</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A URI form of the reference, created by concatenating the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>scheme, e.g. <code>ehr:</code>, derived from <code><em>namespace</em></code></p>
</li>
<li>
<p><code><em>id.value</em></code></p>
</li>
<li>
<p><code>/</code> + <code><em>path</em></code>, where <code><em>path</em></code> is non-empty</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_syntaxes"><a class="anchor" href="#_syntaxes"></a>5.8. Syntaxes</h3>
<div class="paragraph">
<p>TODO: synchronise the syntax below with model.</p>
</div>
<div class="paragraph">
<p>The identifiers defined above are defined in their string form by the following EBNF grammar rules.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ebnf"><span></span><span class="tok-cm">(* ------------------------- UID, OID, UUID -------------------------- *)</span>
<span class="tok-k">uid     </span><span class="tok-o">=</span> <span class="tok-k">iso_oid </span><span class="tok-p">|</span> <span class="tok-k">uuid </span><span class="tok-p">|</span> <span class="tok-k">internet_id </span><span class="tok-p">;</span>
<span class="tok-k">iso_oid </span><span class="tok-o">=</span> <span class="tok-k">number</span><span class="tok-p">,</span> <span class="tok-p">{</span> <span class="tok-s1">&#39;.&#39;</span><span class="tok-p">,</span> <span class="tok-k">number </span><span class="tok-p">}</span> <span class="tok-p">;</span>
<span class="tok-k">uuid    </span><span class="tok-o">=</span> <span class="tok-k">hex-number</span><span class="tok-p">,</span> <span class="tok-s1">&#39;-&#39;</span><span class="tok-p">,</span> <span class="tok-k">hex-number</span><span class="tok-p">,</span> <span class="tok-s1">&#39;-&#39;</span><span class="tok-p">,</span> <span class="tok-k">hex-number</span><span class="tok-p">,</span> <span class="tok-s1">&#39;-&#39;</span><span class="tok-p">,</span> <span class="tok-k">hex-number</span><span class="tok-p">,</span> <span class="tok-s1">&#39;-&#39;</span><span class="tok-p">,</span> <span class="tok-k">hex-number </span><span class="tok-p">;</span>

<span class="tok-cm">(* --------------------------- INTERNET_ID --------------------------- *)</span>
<span class="tok-cm">(* According to IETF http://tools.ietf.org/html/rfc1034[RFC 1034] and  *)</span>
<span class="tok-cm">(* http://tools.ietf.org/html/rfc1035[RFC 1035], as clarified by       *)</span>
<span class="tok-cm">(* http://tools.ietf.org/html/rfc2181[RFC 2181] (section 11),          *)</span>
<span class="tok-cm">(* and relaxation of https://tools.ietf.org/html/rfc1123[RFC 1123]     *)</span>
<span class="tok-cm">(* The syntax of a domain name follows the grammar below. Slightly     *)</span>
<span class="tok-cm">(* reduced for the purpose here, plus allows underscores.              *)</span>
<span class="tok-k">internet_id      </span><span class="tok-o">=</span> <span class="tok-k">subdomain </span><span class="tok-p">;</span>
<span class="tok-k">subdomain        </span><span class="tok-o">=</span> <span class="tok-k">label </span><span class="tok-p">|</span> <span class="tok-k">subdomain</span><span class="tok-p">,</span> <span class="tok-s1">&#39;.&#39;</span><span class="tok-p">,</span> <span class="tok-k">label </span><span class="tok-p">;</span>
<span class="tok-k">label            </span><span class="tok-o">=</span> <span class="tok-k">alphanum </span><span class="tok-p">|</span> <span class="tok-k">alphanum-ext-str</span><span class="tok-p">,</span> <span class="tok-k">alphanum </span><span class="tok-p">;</span>

<span class="tok-cm">(* -------------------- HIER_BASED_ID, UID_BASED_ID ------------------ *)</span>
<span class="tok-k">hier_object_id </span><span class="tok-o">=</span> <span class="tok-k">uid_based_id </span><span class="tok-p">;</span>
<span class="tok-k">uid_based_id   </span><span class="tok-o">=</span> <span class="tok-k">root</span><span class="tok-p">,</span> <span class="tok-p">[</span> <span class="tok-s1">&#39;::&#39;</span><span class="tok-p">,</span> <span class="tok-k">extension </span><span class="tok-p">]</span> <span class="tok-p">;</span>
<span class="tok-k">root           </span><span class="tok-o">=</span> <span class="tok-k">uid </span><span class="tok-p">;</span>
<span class="tok-k">extension      </span><span class="tok-o">=</span> <span class="tok-ni">? any string ?</span> <span class="tok-p">;</span> <span class="tok-cm">(* any string *)</span>

<span class="tok-cm">(* ------------------------- OBJECT_VERSION_ID ----------------------- *)</span>
<span class="tok-k">object_version_id  </span><span class="tok-o">=</span> <span class="tok-k">object_id</span><span class="tok-p">,</span> <span class="tok-s1">&#39;::&#39;</span><span class="tok-p">,</span> <span class="tok-k">creating_system_id</span><span class="tok-p">,</span> <span class="tok-s1">&#39;::&#39;</span><span class="tok-p">,</span> <span class="tok-k">version_tree_id </span><span class="tok-p">;</span>
<span class="tok-k">object_id          </span><span class="tok-o">=</span> <span class="tok-k">uid </span><span class="tok-p">;</span>
<span class="tok-k">creating_system_id </span><span class="tok-o">=</span> <span class="tok-k">uid </span><span class="tok-p">;</span>

<span class="tok-cm">(* ------------------------- VERSION_TREE_ID ------------------------- *)</span>
<span class="tok-k">version_tree_id </span><span class="tok-o">=</span> <span class="tok-k">trunk_version</span><span class="tok-p">,</span> <span class="tok-p">[</span> <span class="tok-s1">&#39;.&#39;</span><span class="tok-p">,</span> <span class="tok-k">branch_number</span><span class="tok-p">,</span> <span class="tok-s1">&#39;.&#39;</span><span class="tok-p">,</span> <span class="tok-k">branch_version </span><span class="tok-p">]</span> <span class="tok-p">;</span>
<span class="tok-k">trunk_version   </span><span class="tok-o">=</span> <span class="tok-k">number </span><span class="tok-p">;</span>
<span class="tok-k">branch_number   </span><span class="tok-o">=</span> <span class="tok-k">number </span><span class="tok-p">;</span>
<span class="tok-k">branch_version  </span><span class="tok-o">=</span> <span class="tok-k">number </span><span class="tok-p">;</span>

<span class="tok-cm">(* -------------------------- ARCHETYPE_ID --------------------------- *)</span>
<span class="tok-k">archetype_id        </span><span class="tok-o">=</span> <span class="tok-k">qualified_rm_entity</span><span class="tok-p">,</span> <span class="tok-s1">&#39;.&#39;</span><span class="tok-p">,</span> <span class="tok-k">domain_concept</span><span class="tok-p">,</span> <span class="tok-s1">&#39;.&#39;</span><span class="tok-p">,</span> <span class="tok-k">version_id </span><span class="tok-p">;</span>
<span class="tok-k">qualified-rm-entity </span><span class="tok-o">=</span> <span class="tok-k">rm_originator</span><span class="tok-p">,</span> <span class="tok-s1">&#39;-&#39;</span><span class="tok-p">,</span> <span class="tok-k">rm_name</span><span class="tok-p">,</span> <span class="tok-s1">&#39;-&#39;</span><span class="tok-p">,</span> <span class="tok-k">rm_entity </span><span class="tok-p">;</span>
<span class="tok-k">rm-originator       </span><span class="tok-o">=</span> <span class="tok-k">alphanum-str </span><span class="tok-p">;</span>     <span class="tok-cm">(* id of org originating the RM on which this archetype is based *)</span>
<span class="tok-k">rm-name             </span><span class="tok-o">=</span> <span class="tok-k">alphanum-str </span><span class="tok-p">;</span>                      <span class="tok-cm">(* id of the RM on which the archetype is based *)</span>
<span class="tok-k">rm-entity           </span><span class="tok-o">=</span> <span class="tok-k">alphanum-str </span><span class="tok-p">;</span>                                       <span class="tok-cm">(* ontological level in the RM *)</span>
<span class="tok-k">domain-concept      </span><span class="tok-o">=</span> <span class="tok-k">concept-name</span><span class="tok-p">,</span> <span class="tok-p">{</span> <span class="tok-s1">&#39;-&#39;</span><span class="tok-p">,</span> <span class="tok-k">specialisation </span><span class="tok-p">}</span> <span class="tok-p">;</span>
<span class="tok-k">concept-name        </span><span class="tok-o">=</span> <span class="tok-k">alphanum-str </span><span class="tok-p">;</span>
<span class="tok-k">specialisation      </span><span class="tok-o">=</span> <span class="tok-k">alphanum-str </span><span class="tok-p">;</span>
<span class="tok-k">version-id          </span><span class="tok-o">=</span> <span class="tok-s1">&#39;v&#39;</span><span class="tok-p">,</span> <span class="tok-p">(</span> <span class="tok-s1">&#39;0&#39;</span> <span class="tok-p">|</span> <span class="tok-k">non-zero-digit</span><span class="tok-p">,</span> <span class="tok-p">[</span> <span class="tok-k">number </span><span class="tok-p">]</span> <span class="tok-p">)</span> <span class="tok-p">;</span>            <span class="tok-cm">(* numeric version identifier *)</span>

<span class="tok-cm">(* ------------------------- TERMINOLOGY_ID -------------------------- *)</span>
<span class="tok-k">terminology_id </span><span class="tok-o">=</span> <span class="tok-k">name-str</span><span class="tok-p">,</span> <span class="tok-p">[</span> <span class="tok-s1">&#39;(&#39;</span><span class="tok-p">,</span> <span class="tok-k">name-str</span><span class="tok-p">,</span> <span class="tok-s1">&#39;)&#39;</span> <span class="tok-p">]</span> <span class="tok-p">;</span>

<span class="tok-cm">(* -------------------------- generic rules -------------------------- *)</span>
<span class="tok-k">alphanum     </span><span class="tok-o">=</span> <span class="tok-k">letter </span><span class="tok-p">|</span> <span class="tok-k">digit </span><span class="tok-p">;</span>
<span class="tok-k">name-str     </span><span class="tok-o">=</span> <span class="tok-k">letter</span><span class="tok-p">,</span> <span class="tok-p">{</span> <span class="tok-k">letter </span><span class="tok-p">|</span> <span class="tok-k">digit </span><span class="tok-p">|</span> <span class="tok-s1">&#39;_&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;-&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;/&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;+&#39;</span> <span class="tok-p">}</span> <span class="tok-p">;</span>
<span class="tok-k">alphanum-str </span><span class="tok-o">=</span> <span class="tok-k">letter</span><span class="tok-p">,</span> <span class="tok-p">{</span> <span class="tok-k">letter </span><span class="tok-p">|</span> <span class="tok-k">digit </span><span class="tok-p">|</span> <span class="tok-s1">&#39;_&#39;</span> <span class="tok-p">}</span> <span class="tok-p">;</span>
<span class="tok-k">alphanum-ext-str </span><span class="tok-o">=</span> <span class="tok-k">letter</span><span class="tok-p">,</span> <span class="tok-p">{</span> <span class="tok-k">letter </span><span class="tok-p">|</span> <span class="tok-k">digit </span><span class="tok-p">|</span> <span class="tok-s1">&#39;_&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;-&#39;</span> <span class="tok-p">}</span> <span class="tok-p">;</span>
<span class="tok-k">letter       </span><span class="tok-o">=</span> <span class="tok-s1">&#39;A&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;B&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;C&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;D&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;E&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;F&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;G&#39;</span>
             <span class="tok-p">|</span> <span class="tok-s1">&#39;H&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;I&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;J&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;K&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;L&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;M&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;N&#39;</span>
             <span class="tok-p">|</span> <span class="tok-s1">&#39;O&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;P&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;Q&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;R&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;S&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;T&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;U&#39;</span>
             <span class="tok-p">|</span> <span class="tok-s1">&#39;V&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;W&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;X&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;Y&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;Z&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;a&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;b&#39;</span>
             <span class="tok-p">|</span> <span class="tok-s1">&#39;c&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;d&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;e&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;f&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;g&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;h&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;i&#39;</span>
             <span class="tok-p">|</span> <span class="tok-s1">&#39;j&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;k&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;l&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;m&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;n&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;o&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;p&#39;</span>
             <span class="tok-p">|</span> <span class="tok-s1">&#39;q&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;r&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;s&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;t&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;u&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;v&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;w&#39;</span>
             <span class="tok-p">|</span> <span class="tok-s1">&#39;x&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;y&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;z&#39;</span> <span class="tok-p">;</span>

<span class="tok-k">number         </span><span class="tok-o">=</span> <span class="tok-k">digit</span><span class="tok-p">,</span> <span class="tok-p">{</span> <span class="tok-k">digit </span><span class="tok-p">}</span> <span class="tok-p">;</span>
<span class="tok-k">hex-number     </span><span class="tok-o">=</span> <span class="tok-k">hex-digit</span><span class="tok-p">,</span> <span class="tok-p">{</span> <span class="tok-k">hex-digit </span><span class="tok-p">}</span> <span class="tok-p">;</span>
<span class="tok-k">digit          </span><span class="tok-o">=</span> <span class="tok-s1">&#39;0&#39;</span> <span class="tok-p">|</span> <span class="tok-k">non-zero-digit </span><span class="tok-p">;</span>
<span class="tok-k">non-zero-digit </span><span class="tok-o">=</span> <span class="tok-s1">&#39;1&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;2&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;3&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;4&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;5&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;6&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;7&#39;</span><span class="tok-p">|</span> <span class="tok-s1">&#39;8&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;9&#39;</span> <span class="tok-p">;</span>
<span class="tok-k">hex-digit      </span><span class="tok-o">=</span> <span class="tok-k">digit </span><span class="tok-p">|</span> <span class="tok-s1">&#39;A&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;B&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;C&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;D&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;E&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;F&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;a&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;b&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;c&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;d&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;e&#39;</span> <span class="tok-p">|</span> <span class="tok-s1">&#39;f&#39;</span> <span class="tok-p">;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_archetyped_package"><a class="anchor" href="#_archetyped_package"></a>6. Archetyped Package</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_5"><a class="anchor" href="#_overview_5"></a>6.1. Overview</h3>
<div class="paragraph">
<p>The <code>archetyped</code> package defines the core types <code>Pathable</code>, <code>Locatable</code>, <code>Archetyped</code>, and <code>LINK</code>. It is illustrated in <a href="#archetyped_package">Figure 5</a>.</p>
</div>
<div id="archetyped_package" class="imageblock text-center text-center">
<div class="content">
<img src="UML/diagrams/BASE-base_types.archetyped.svg" alt="BASE base types.archetyped">
</div>
<div class="title">Figure 5. base_types.archetyped Package</div>
</div>
<div class="sect3">
<h4 id="_the_pathable_class"><a class="anchor" href="#_the_pathable_class"></a>6.1.1. The Pathable Class</h4>
<div class="paragraph">
<p>The <code>Pathable</code> class defines the pathing capabilities used by nearly all classes in the openEHR reference model, mostly via inheritance of <code>Locatable</code>. The defining characteristics of <code>Pathable</code> objects are that they can locate child objects using paths, and they know their parent object in a compositional hierarchy. The <code><em>parent</em></code> feature is defined as abstract in the model, and may be implemented in any way convenient.</p>
</div>
<div class="paragraph">
<p>A number of functions provide the path functionality, of which <code><em>item_at_path()</em></code> and <code><em>items_at_path()</em></code> are the key functions. The former returns an item corresponding to a unique path, i.e. a path that resolves against the data structure to a single node. The latter returns a list of items corresponding to a non-unique path. These functions can be used safely using the following pattern, but can also be used without checking the validity of paths, if this is known a priori in the code anyway.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-n">path_exists</span> <span class="tok-p">(</span><span class="tok-n">a_path</span><span class="tok-p">))</span> <span class="tok-p">{</span>
    <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-n">path_unique</span> <span class="tok-p">(</span><span class="tok-n">a_path</span><span class="tok-p">))</span> <span class="tok-p">{</span>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">item_at_path</span> <span class="tok-p">(</span><span class="tok-n">a_path</span><span class="tok-p">);</span>
		<span class="tok-c1">// process one item</span>
	<span class="tok-p">}</span>
    <span class="tok-k">else</span> <span class="tok-p">{</span>
        <span class="tok-n">list_of_x</span> <span class="tok-o">=</span> <span class="tok-n">items_at_path</span> <span class="tok-p">(</span><span class="tok-n">a_path</span><span class="tok-p">);</span>
        <span class="tok-c1">//iterate the list</span>
    <span class="tok-p">}</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_the_locatable_class"><a class="anchor" href="#_the_locatable_class"></a>6.1.2. The Locatable Class</h4>
<div class="paragraph">
<p>Most classes in the openEHR reference model inherit from the <code>Locatable</code> class, which defines the idea of 'locatability in an archetyped structure'. <code>Locatable</code> defines a runtime name and an <code><em>archetype_node_id</em></code>. The <code><em>archetype_node_id</em></code> is the standardised semantic code for a node and comes from the corresponding node in the archetype used to create the data. The only exception is at archetype root points in data, where <code><em>archetype_node_id</em></code> carries the archetype identifier in string form rather than an interior node id from an archetype. <code>Locatable</code> also provides the attribute <code><em>archetype_details</em></code>, which is non-Void for archetype root points in data, and carries meta-data relevant to root points. The <code><em>name</em></code> attribute carries a name created at runtime. The 'meaning' of any node is derived formally from the archetype by obtaining the text value for the <code><em>archetype_node_id</em></code> code from the archetype <code>ontology</code> section, in the language required.</p>
</div>
<div class="paragraph">
<p>The <code><em>name</em></code> and <code><em>archetype_node_id</em></code> valuesin a <code>Locatable</code> instance are often the same semantically, but may differ. For example, in "problem/SOAP" Sections (i.e. headings), the name of a section at the problem level might be "diabetes", but its meaning might be "problem". The default value for <code><em>name</em></code> should be assumed to be the text value in the local language for the <code><em>archetype_node_id</em></code> code on the node in question, unless explicitly set otherwise.</p>
</div>
<div class="sect4">
<h5 id="_unique_node_identification"><a class="anchor" href="#_unique_node_identification"></a>6.1.2.1. Unique Node Identification</h5>
<div class="paragraph">
<p><code>Locatable</code> descendants may have a <code><em>uid</em></code>, containing a GUID. In the current openEHR architecture, GUIDs are not needed to identify data nodes, since paths are used to reference all nodes inside top-level structures (i.e. <code>Compositions</code> etc). Accordingly all references between parts of an EHR are represented in terms of <code>Locatable_REFs</code> or <code>DV_EHR_URIs</code> (the former is a reference to an <code>OBJECT_VERSION_ID</code> with a path appended; the latter is the stringified URI form). This would allow for example, one Entry to reference the serum sodium value in another Entry in version 2 of a Versioned Composition for a laboratory test on 12/Apr/2004. The <code><em>uid</em></code> attribute will usually be empty in most EHR data in most openEHR EHR systems.</p>
</div>
<div class="paragraph">
<p>The exception is the top-level types such as <code>Composition</code>, <code>EHR_STATUS</code>, <code>PARTY</code> etc for which it is recommended to set the <code><em>uid</em></code> value to a copy of the <code><em>uid.object_id()</em></code> value of the owning <code>VERSION</code> object (usually an <code>ORIGINAL_VERSION</code>), i.e. the leading Uid, which is normally a Guid. This enables easy identification of standalone top-level objects in a serialised form. For example, if the <code>ORIGINAL_VERSION.uid</code> is <code>87284370-2D4B-4e3d-A3F3-F303D2F4F34B::uk.nhs.ehr1::2</code>, the Guid <code>87284370-2D4B-4e3d-A3F3-F303D2F4F34B</code> would be copied to the contained <code>Composition.uid</code> field.</p>
</div>
<div class="paragraph">
<p>Another use for <code>Locatable.<em>uid</em></code> is in EHR Extracts, which contain serialised expressions of EHR content. In an Extract, <code><em>uid</em></code> could be set on some or all nodes to a value generated by concatenating the <code><em>uid</em></code> value of the enclosing Version object (i.e. <code>VERSION.<em>uid</em></code>) and the unique runtime path to the particular node. This may be useful to the receiver system for the purpose of referencing particular data nodes when communicating to the sender, or another system. This use of <code><em>uid</em></code> is not however mandatory, since for each node in an Extract item, the <code><em>uid</em></code> value can be generated at any time (including at the receiver system).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
some classes in the openEHR architecture that do not inherit from <code>Locatable</code> but require a UID, such as <code>VERSIONED_OBJECT</code>, <code>VERSION</code> etc, explicitly define their own <code><em>uid</em></code> attributes.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_feeder_system_audit"><a class="anchor" href="#_feeder_system_audit"></a>6.1.3. Feeder System Audit</h4>
<div class="paragraph">
<p>The data in any part of the EHR may be obtained from a feeder system, i.e. a source system which does not obey the versioning, auditing and content semantics of openEHR (data in the EHR which have been sourced from another openEHR system are dealt with in the Common IM, Change control section). The <code>FEEDER_AUDIT</code> class defines the semantics of an audit trail which is constructed to describe the origin of data that have been transformed into openEHR form and committed to the system. There are a number of aspects to the problem of transforming data for committal into an openEHR system, dealt with in the following subsections.</p>
</div>
<div class="sect4">
<h5 id="_requirements_2"><a class="anchor" href="#_requirements_2"></a>6.1.3.1. Requirements</h5>
<div class="paragraph">
<p>The model of Feeder audit is designed to satisfy the following requirements with respect to EHR content sourced from non-openEHR systems:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>record medico-legal audit information from the originating system (e.g. pathology lab system) similar to that captured in the <code>AUDIT_DETAILS</code> class in the <code>change_control</code> package;</p>
</li>
<li>
<p>record information identifying the immediate system from which the content was obtained (might not be the originating system);</p>
</li>
<li>
<p>record sufficient information to distinguish incoming items from each other, and to enable the detection of duplicates and new versions of the same item;</p>
</li>
<li>
<p>allow the inclusion of the source content either as a link or inline.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_design_principles"><a class="anchor" href="#_design_principles"></a>6.1.3.2. Design Principles</h5>
<div class="paragraph">
<p>The design of the Feeder audit part of the reference model is based on a generalised model of data communication in which various elements are identified, as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>the originating system</em>: the computer system where the information item was initially created, e.g. the system at a pathology laboratory or a reporting system for a number of laboratories;</p>
</li>
<li>
<p><em>intermediate systems</em>: any system which moves information from the originating system to an openEHR system;</p>
</li>
<li>
<p><em>the feeder system</em>: the intermediate system from which the information item was directly obtained by the openEHR system; this might be the originating system, or it may be a distinct intermediate system;</p>
</li>
<li>
<p><em>the committing openEHR system</em>: the openEHR system where the information item is transformed into openEHR form and committed as a Composition;</p>
</li>
<li>
<p><em>openEHR converter</em>: a component whose job it is to convert non-openEHR information into a form compliant with the openEHR reference model and chosen archetypes;</p>
</li>
<li>
<p><em>original content store</em>: some EHR systems may have an associated persistent repository of content as received from external systems, e.g. a message or document database.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#feeder_chain">Figure 6</a> illustrates these elements, shown as a "feeder chain", along with typical meta-data available in messages from each system. In general, not much can be assumed about systems in the feeder chain. The originating system may or may not correspond to the place of the clinical activity - it is not uncommon for a pathology company to have a centralised report issuing location while having numerous physical laboratories. There is often limited consistency in the way identifiers are assigned, timestamps are created, and information is structured and coded. In general, information from a feeder system is in response to a request, often a pathology order, although the request/response pattern probably cannot be assumed in all cases.</p>
</div>
<div id="feeder_chain" class="imageblock text-center text-center">
<div class="content">
<img src="base_types/diagrams/feeder_chain.png" alt="feeder chain" width="80%">
</div>
<div class="title">Figure 6. Abstract Model of Feeder Chain</div>
</div>
<div class="paragraph">
<p>The idea underlying the openEHR Feeder audit model is that there are two groups of meta-data which should be recorded about an imported information item. The first is medico-legal meta-data about its creation: the system of origin, who created it and when it was created. The second is identifying meta-data for the item from the originating and feeder system, and potentially other intermediate systems in the feeder chain, where necessary to support duplicate detection, version detection and so on.</p>
</div>
</div>
<div class="sect4">
<h5 id="_meta_data"><a class="anchor" href="#_meta_data"></a>6.1.3.3. Meta-data</h5>
<div class="paragraph">
<p>The potentially available medico-legal meta-data about the received item is as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>identifier of the originating system (where the item was originally committed);</p>
</li>
<li>
<p>identifier of the information item in the originating system;</p>
</li>
<li>
<p>agent who committed the item;</p>
</li>
<li>
<p>timestamp of committal or creation of the item;</p>
</li>
<li>
<p>type of change, e.g. initial creation, correction (including deletion of a subpart), logical deletion (e.g. due to cancellation of order);</p>
</li>
<li>
<p>status of information, e.g. interim, final;</p>
</li>
<li>
<p>version id, where versioning is supported.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The above information is equivalent to the audit trail and versioning data captured when information created in an openEHR system is committed in a Composition version.</p>
</div>
<div class="paragraph">
<p>Various kinds of identifying information may be required including the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>subject identifier (often more than one, e.g. national patient id, GP&#8217;s local patient id, lab&#8217;s local patient id) are usually recorded and may be required for traceability purposes;</p>
</li>
<li>
<p>subject identifier(s) may identify someone other than the subject of the record as being the subject of the incoming item;</p>
</li>
<li>
<p>location of the feeder system;</p>
</li>
<li>
<p>identifier of the feeder system (which may be one of many at the feeder system location);</p>
</li>
<li>
<p>identifer the feeder system uses for the item in question (often known as an "accession id");</p>
</li>
<li>
<p>identifier of request or order to which the information is a response (sometimes known as a "placer&#8217;s request id");</p>
</li>
<li>
<p>identifier of the information item used by the originating system (sometimes known as a "filler&#8217;s request id");</p>
</li>
<li>
<p>timestamp(s) assigned by feeder system to the item.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some or all of this information will usually be sufficient to perform a number of tasks as follows.</p>
</div>
</div>
<div class="sect4">
<h5 id="_traceability"><a class="anchor" href="#_traceability"></a>6.1.3.4. Traceability</h5>
<div class="paragraph">
<p>The first task is to support medico-legal investigation into the path of the information item through the health computing infrastructure. This requires the availability of sufficient identifier information that the origin of the information item can be traced. Subject identifiers where available should be used to ensure that the received data go into the correct EHR, by ensuring that the relevant lookups in client directories or other lookup mechanisms can be effected. Again, in rare cases, the subject of the incoming data item may not necessarily be the subject of the EHR - a test result may be made from a relative or other associate which will be stored in the patient&#8217;s EHR.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_detection"><a class="anchor" href="#_version_detection"></a>6.1.3.5. Version Detection</h5>
<div class="paragraph">
<p>The second is to detect new versions of an item (e.g. interim and final versions of a microbiology test result). This can usually be achieved by using various identifiers as well as the originating system version id and/or content status (interim, final etc). A new openEHR Composition version should always be created for each received version, even where the content does not change at all (e.g. a microbiology test where the result is "no growth" in both interim and final results).</p>
</div>
</div>
<div class="sect4">
<h5 id="_duplicate_detection"><a class="anchor" href="#_duplicate_detection"></a>6.1.3.6. Duplicate Detection</h5>
<div class="paragraph">
<p>Another task is to disambiguate duplicates (often caused by failure of a network connection during sending) coming from the feeder system. In some cases however duplicates are erroneously given new ids by the feeder system, giving the receiver the impression of a new information. In such cases, a further item of meta-data may be required:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>hash or content signature generated (most likely by the converter) from the received information.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_differentially_coded_data"><a class="anchor" href="#_differentially_coded_data"></a>6.1.3.7. Differentially Coded Data</h5>
<div class="paragraph">
<p>A further problem is that the originating system may send new versions of an item which are not complete in and of themselves, i.e. which only include new or changed elements with respect to a previous send of the same item. An example is a system which sends a correction to an HL7v2 blood test message, where the correction includes just the "serum sodium" data item. In this case, special processing will be required in the openEHR converter component, in order to regenerate a full data item from difference data when it is received. Such processing may also have to take account of deleted items.</p>
</div>
<div class="paragraph">
<p>In summary, the Feeder audit class design tries to accommodate the recording of as much of the above meta-data as is relevant in any particular case. It is up to the design of openEHR conversion front-end components as well as proper analysis of the situation to determine which identifiers are germane to the needs of traceability. In general, any meta-data of medico-legal significance should be captured where it is available.</p>
</div>
</div>
<div class="sect4">
<h5 id="_using_feeder_audit_in_converted_data"><a class="anchor" href="#_using_feeder_audit_in_converted_data"></a>6.1.3.8. Using Feeder Audit in Converted Data</h5>
<div class="paragraph">
<p>Although the design of the openEHR converter is outside the scope of the current document, it is worth considering a common design approach, and where the <code>FEEDER_AUDIT</code> class fits in. An effective way of converting non-openEHR data such as HL7v2 messages, relational data etc, is in two steps. The first is to perform a 'syntactic' conversion to Compositions containing instances of the <code>Generic_entry</code> class (described in the Integration IM), using 'legacy archetypes'. The resulting database will contain versioned Compositions containing <code>Generic_entry</code> instances; logically this database does not contain EHRs but simply external data converted to openEHR computational form. The relevant <code>FEEDER_AUDIT</code> instances should be attached to the Compositions containing the corresponding <code>Generic_entry</code> instances. The second step is to perform a 'semantic' conversion to subtypes of Entry, i.e. <code>Observation</code>, <code>Assertion</code>, <code>Order</code> and <code>ACTION</code>, according to standardised clinical archetypes. There are various possibilities for what to do with the Feeder audit. The minimum Feeder audit required on the final instance contains the originating system audit information, but none of the information to do with feeder or intermediate systems. This will satisfy medico-legal needs. Alternatively, a complete copy could be made, even though the feeder-related meta-data is probably only of use in the conversion environment. What the Feeder audit looks like in the EHR proper may depend on local legislation, norms or other factors. Alternative conversion approaches are also possible, in which no intermediate form of data exists.</p>
</div>
</div>
<div class="sect4">
<h5 id="_structural_correspondence"><a class="anchor" href="#_structural_correspondence"></a>6.1.3.9. Structural Correspondence</h5>
<div class="paragraph">
<p>There is no guarantee that the granularity of information recorded in the feeder system obeys the rules of Entries, Compositions, etc. As a consquence, feeder information might correspond to any level of information defined in the openEHR models. In order to be able to record feeder audit information correctly, the model has to be able to associate an audit trail with any granularity of object. For this reason, feeder audit information is attached to the <code>Locatable</code> class via the feeder_audit attribute, even though it is preferable by design to have it attached to the equivalent of Compositions or at least the equivalent of archetype entities (i.e. Compositions, Section trees and Entries). Its usual usage is to attach it to the outermost object to which it applies. In other words, in most cases, during a legacy data conversion process, the entirety of a Composition needs only one <code>FEEDER_AUDIT</code> to document its origins. In exceptional cases, where feeder data comes in in near real time, e.g. from an ICU database, separate <code>FEEDER_AUDIT</code> objects may need to be generated for parts of a Composition; each commit in this situation will create a stack of versions of one Composition, with a growing number of <code>FEEDER_AUDIT</code> objects attached to internal data nodes, each documenting the last import of data.</p>
</div>
<div class="paragraph">
<p>The Feeder audit information is included as part of the data of the Composition, rather than part of the audit trail of version committal, because it remains relevant throughout the versioning of a logical Composition, i.e. when a new version is created, the feeder information is retained as part of the current version to be seen and possibly modified, just as for the rest of its content. If the main part of the content is modified so drastically as to make the feeder audit irrelevant, it too can be removed. A second consequence of feeder and legacy systems is that structural data items may need to be synthesised in order to create valid structures, even though the source system does not have them. For example, a system may have the equivalent data of Clusters and Elements (see <a href="https://specifications.openehr.org/releases/RM/latest/data_structures.html" target="_blank" rel="noopener">openEHR Data Structures IM</a> or <a href="https://www.iso.org/standard/40784.html" target="_blank" rel="noopener">ISO 13606</a>), but no Entries, Sections or other higher-level data items; these have to be synthesised during conversion. To indicate synthesis of a data node, a <code>FEEDER_AUDIT</code> instance is attached to the <code>Locatable</code> in question, and its <code><em>change_type</em></code> set to "synthesised".</p>
</div>
</div>
<div class="sect4">
<h5 id="_original_content"><a class="anchor" href="#_original_content"></a>6.1.3.10. Original Content</h5>
<div class="paragraph">
<p>The features of the model described so far allow accurate referencing of content as it is known in source systems and intermediate feeder systems. A further feature of the <code>FEEDER_AUDIT</code> class, the <code><em>original_content</em></code> attribute allows the original content item itself to be either included inline or pointed to. If a link is used, the usual situation is that the content is in a store associated with the receiving system, such as a message or document database. The content could also be included inline. Since the <code><em>original_content</em></code> link is on a <code>FEEDER_AUDIT</code> object, more than one can be used within the same generated Composition if required. It may be deemed preferable to attach only a single link at the top node, i.e. the Composition node, since this establishes basic equivalent between the whole Composition and the whole document or message.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_class_definitions_3"><a class="anchor" href="#_class_definitions_3"></a>6.2. Class Definitions</h3>
<div class="sect3">
<h4 id="_pathable_class"><a class="anchor" href="#_pathable_class"></a>6.2.1. Pathable Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>Pathable (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>The <code>Pathable</code> class defines the pathing capabilities used by nearly all classes in the openEHR reference model, mostly via inheritance of <code>Locatable</code>. The defining characteristics of <code>Pathable</code> objects are that they can locate child objects using paths, and they know their parent object in a compositional hierarchy. The parent feature is defined as abstract in the model, and may be implemented in any way convenient.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="/releases/BASE/latest/foundation_types.html#_any_class" target="_blank" rel="noopener">Any</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>parent</strong> (): <code><a href="#_pathable_class">Pathable</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Parent of this node in a compositional hierarchy.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>item_at_path</strong> (<br>
a_path: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a>[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_any_class" target="_blank" rel="noopener">Any</a></code><br>
<br>
<em>Pre</em>: <code>path_unique (a_path)</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The item at a path (relative to this item); only valid for unique paths, i.e. paths that resolve to a single item.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>items_at_path</strong> (<br>
a_path: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a>[1]</code><br>
): <code>List&lt;<a href="/releases/BASE/latest/foundation_types.html#_any_class" target="_blank" rel="noopener">Any</a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>List of items corresponding to a non-unique path.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>path_exists</strong> (<br>
a_path: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a>[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_boolean_class" target="_blank" rel="noopener">Boolean</a></code><br>
<br>
<em>Pre</em>: <code>not a_path.is_empty</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>True if the path exists in the data with respect to the current item.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>path_unique</strong> (<br>
a_path: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a>[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_boolean_class" target="_blank" rel="noopener">Boolean</a></code><br>
<br>
<em>Pre</em>: <code>path_exists (a_path)</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>True if the path corresponds to a single item in the data.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>path_of_item</strong> (<br>
a_loc: <code><a href="#_pathable_class">Pathable</a>[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The path to an item relative to the root of this archetyped structure.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_locatable_class"><a class="anchor" href="#_locatable_class"></a>6.2.2. Locatable Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>Locatable (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Root class of all information model classes that can be archetyped. Most classes in the openEHR reference model inherit from the <code>Locatable</code> class, which defines the idea of  locatability in an archetyped structure. <code>Locatable</code> defines a runtime name and an <code><em>archetype_node_id</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_pathable_class">Pathable</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>uid</strong>: <code><a href="#_uuid_class">Uuid</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional globally unique object identifier for root points of archetyped structures.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>name</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Runtime name of this fragment, used to build runtime paths. This is the term provided via a clinical application or batch process to name this EHR construct: its retention in the EHR faithfully preserves the original label by which this entry was known to end users.</p>
</div>
<div class="paragraph">
<p>TODO: in openEHR this can be a coded term. What do we prefer?</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>archetype_node_id</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Design-time archetype identifier of this node taken from its generating archetype; used to build archetype paths. Always in the form of an at-code, e.g. <code>at0005</code>. This value enables a 'standardised' name for this node to be generated, by referring to the generating archetype local terminology.</p>
</div>
<div class="paragraph">
<p>At an archetype root point, the value of this attribute is always the stringified form of the <code><em>archetype_id</em></code> found in the <code><em>archetype_details</em></code> object.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>links</strong>: <code>List&lt;<a href="#_link_class">Link</a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Links to other archetyped structures (data whose root object inherits from <code>Archetyped</code>, such as <code>Entry</code>, <code>SECTION</code> and so on). Links may be to structures in other compositions.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>archetype_details</strong>: <code><a href="#_archetyped_class">Archetyped</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Details of archetyping used on this node.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>feeder_audit</strong>: <code><a href="#_feeder_audit_class">Feeder_audit</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Audit trail from non-openEHR system of original commit of information forming the content of this node, or from a conversion gateway which has synthesised this node.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>code</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_terminology_term_class" target="_blank" rel="noopener">Terminology_term</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional field to carry code from bound terminology, e.g. LOINC or other.</p>
</div>
<div class="paragraph">
<p>TODO: for GCM, default to Graphite LOINC extension</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>concept</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Clinical concept of the archetype as a whole (= derived from the archetype_node_id' of the root node)</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>is_archetype_root</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_boolean_class" target="_blank" rel="noopener">Boolean</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>True if this node is the root of an archetyped structure.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Links_valid</em>: <code>links /= Void implies not links.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Archetyped_valid</em>: <code>is_archetype_root xor archetype_details = Void</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Archetype_node_id_valid</em>: <code>not archetype_node_id.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_archetyped_class"><a class="anchor" href="#_archetyped_class"></a>6.2.3. Archetyped Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Archetyped</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Archetypes act as the configuration basis for the particular structures of instances defined by the reference model. To enable archetypes to be used to create valid data, key classes in the reference model act as  root  points for archetyping; accordingly, these classes have the <code><em>archetype_details</em></code> attribute set.</p>
</div>
<div class="paragraph">
<p>An instance of the class <code>Archetyped</code> contains the relevant archetype identification information, allowing generating archetypes to be matched up with data instances.</p>
</div>
<div class="paragraph">
<p>TODO: use ARCHETYPE_HRID</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>archetype_id</strong>: <code><a href="#_archetype_id_class">Archetype_id</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Globally unique archetype identifier.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>template_id</strong>: <code><a href="#_archetype_id_class">Archetype_id</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Globally unique template identifier, if a template was active at this point in the structure. Normally, a template would only be used at the top of a top-level structure, but the possibility exists for templates at lower levels.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>rm_version</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Version of the openEHR reference model used to create this object. Expressed in terms of the release version string, e.g.  1.0 ,  1.2.4 .</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Rm_version_valid</em>: <code>not rm_version.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_link_class"><a class="anchor" href="#_link_class"></a>6.2.4. Link Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Link</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>The <code>LINK</code> type defines a logical relationship between two items, such as two <code>Entrys</code> or an <code>Entry</code> and a <code>COMPOSITION</code>. Links can be used across compositions, and across EHRs. Links can potentially be used between interior (i.e. non archetype root) nodes, although this probably should be prevented in archetypes. Multiple <code>LINKs</code> can be attached to the root object of any archetyped structure to give the effect of a 1&#8594;N link.</p>
</div>
<div class="paragraph">
<p>1:1 and 1:N relationships between archetyped content elements (e.g. <code>Entrys</code>) can be expressed by using one, or more than one, respectively, <code>LINKs</code>. Chains of links can be used to see  problem threads  or other logical groupings of items.</p>
</div>
<div class="paragraph">
<p>Links should be between archetyped structures only, i.e. between objects representing complete domain concepts because relationships between sub-elements of whole concepts are not necessarily meaningful, and may be downright confusing. Sensible links only exist between whole <code>Entrys</code>, <code>SECTIONs</code>, <code>COMPOSITIONs</code> and so on.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>meaning</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_terminology_term_class" target="_blank" rel="noopener">Terminology_term</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Used to describe the relationship, usually in clinical terms, such as  in response to  (the relationship between test results and an order),  follow-up to  and so on. Such relationships can represent any clinically meaningful connection between pieces of information.</p>
</div>
<div class="paragraph">
<p>TODO: check use of DV_xxx types here.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>type</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_terminology_term_class" target="_blank" rel="noopener">Terminology_term</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The type attribute is used to indicate a clinical or domain-level meaning for the kind of link, for example 'problem' or 'issue'. If type values are designed appropriately, they can be used by the requestor of EHR extracts to categorise links which must be followed and which can be broken when the extract is created.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>target</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_uri_class" target="_blank" rel="noopener">Uri</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The logical target object in the link relation, as per the linguistic sense of the meaning attribute.</p>
</div>
<div class="paragraph">
<p>TODO: Can only be a URI pointing of some other EHR or Demographic Entity - how best to constrain?</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_feeder_audit_class"><a class="anchor" href="#_feeder_audit_class"></a>6.2.5. Feeder_audit Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Feeder_audit</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>The <code>Feeder_audit</code> class defines an audit trail describing the origin of data that have been ingested and committed to the system.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>originating_system_item_ids</strong>: <code>List&lt;<a href="/releases/BASE/latest/data_types.html#_rwe_id_ref_class" target="_blank" rel="noopener">Rwe_id_ref</a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Identifiers used for the item in the originating system, e.g. filler and placer ids.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>feeder_system_item_ids</strong>: <code>List&lt;<a href="/releases/BASE/latest/data_types.html#_rwe_id_ref_class" target="_blank" rel="noopener">Rwe_id_ref</a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Identifiers used for the item in the feeder system, where the feeder system is distinct from the originating system.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>original_content</strong>: <code><a href="/releases/BASE/latest/data_types.html#_encapsulated_class" target="_blank" rel="noopener">Encapsulated</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional inline inclusion of or reference to original content corresponding to the openEHR content at this node. Typically a URI reference to a document or message in a persistent store associated with the EHR.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>originating_system_audit</strong>: <code><a href="#_feeder_audit_details_class">Feeder_audit_details</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Any audit information for the information item from the originating system.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>feeder_system_audit</strong>: <code><a href="#_feeder_audit_details_class">Feeder_audit_details</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Any audit information for the information item from the feeder system, if different from the originating system.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>original_code</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_terminology_code_class" target="_blank" rel="noopener">Terminology_code</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Original code for this data item, often pre-coordinated.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_feeder_audit_details_class"><a class="anchor" href="#_feeder_audit_details_class"></a>6.2.6. Feeder_audit_details Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Feeder_audit_details</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Audit details for any system in a feeder system chain. Audit details here means the general notion of who/where/when the information item to which the audit is attached was created. None of the attributes is defined as mandatory, however, in different scenarios, various combinations of attributes will usually be mandatory. This can be controlled by specifying feeder audit details in legacy archetypes.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>system_id</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Identifier of the system which handled the information item. This is the IT system owned by the organisation legally responsible for handling the data, and at which the data were previously created or passed by an earlier system.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>location</strong>: <code><a href="#_party_identified_class">Party_identified</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Identifier of the particular site/facility within an organisation which handled the item. For computability, this identifier needs to be e.g. a PKI identifier which can be included in the identifier list of the <code>PARTY_IDENTIFIED</code> object.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>subject</strong>: <code><a href="#_party_proxy_class">Party_proxy</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Identifiers for subject of the received information item.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>provider</strong>: <code><a href="#_party_identified_class">Party_identified</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional provider(s) who created, committed, forwarded or otherwise handled the item.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>time</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_date_time_class" target="_blank" rel="noopener">Date_time</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Time of handling the item. For an originating system, this will be time of creation, for an intermediate feeder system, this will be a time of accession or other time of handling, where available.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>version_id</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Any identifier used in the system such as  "interim" ,  "final" , or numeric versions if available.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>other_details</strong>: <code><a href="/releases/GCM/{gcm_release}/data_structures.html#_cluster_class" target="_blank" rel="noopener">Cluster</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional attribute to carry any custom meta-data. May be archetyped.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>System_id_valid</em>: <code>not system_id.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reference_package"><a class="anchor" href="#_reference_package"></a>7. Reference Package</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_6"><a class="anchor" href="#_overview_6"></a>7.1. Overview</h3>
<div class="paragraph">
<p>The classes presented in this section are abstractions of concepts which are generic patterns in the domain of health (and most likely other domains), such as 'participation' and 'attestation'. The reference package is shown below.</p>
</div>
<div id="reference_package" class="imageblock text-center text-center">
<div class="content">
<img src="UML/diagrams/BASE-base_types.reference.svg" alt="BASE base types.reference">
</div>
<div class="title">Figure 7. base_types.reference Package</div>
</div>
</div>
<div class="sect2">
<h3 id="_design_principles_2"><a class="anchor" href="#_design_principles_2"></a>7.2. Design Principles</h3>
<div class="sect3">
<h4 id="_referring_to_demographic_entities"><a class="anchor" href="#_referring_to_demographic_entities"></a>7.2.1. Referring to Demographic Entities</h4>
<div class="paragraph">
<p>There are two ways to refer to a demographic identity in the openEHR EHR: using <code>OBJECT_REF</code> directly, which records an identifier of the party in some external system, and using <code>Party_proxy</code>, consisting of a small amount of descriptive data, depending on the subtype, and an optional <code>PARTY_REF</code>. The semantics of <code>PARTY_REF</code> are described in the <a href="https://specifications.openehr.org/releases/BASE/latest/base_types.html">Base Types <code>identification</code> package</a>, while the semantics of <code>Party_proxy</code> and use of <code>OBJECT_REF</code> in such entities are described below. The approach taken in openEHR for representing demographic and user entities in the EHR data isbased on the following assumptions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>there is at least one human-readable name or official identifier of the party, such as <code>"Julius Marlowe, MD"</code>, <code>"NHS provider number 1039385"</code>, or a system user id such as <code>"Rahil.Azam"</code>;</p>
</li>
<li>
<p>there might be data in a service external to the EHR for the party in question, such as a demographic, identity management or patient index service; if there is, it should be referenceable;</p>
</li>
<li>
<p>the subject of the record is never to be identified in any direct way (i.e. via the use of her name or other human-readable details), but may include a meaningless identifier in some external system.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>Party_proxy</code> class and subtypes model references to parties based on these assumptions. The semantics of <code>Party_proxy</code> enable a flexible approach: in stricter environments that have identity management and demographic services, and where there is an entry in such a service for the party in question, <code>Party_proxy.<em>external_ref</em></code> will be non-Void, while in other environments, it will be empty.</p>
</div>
<div class="paragraph">
<p>The two subtypes correspond to the mutually distinct categories of the 'subject of the record', known as the 'self' party in openEHR, and any other party. Whenever the record subject has to be referred to in the record, an instance of <code>Party_self</code> is used, while <code>Party_identified</code> is used for all other situations. The latter class provides for optional human-readable names and formal identifiers, each keyed by purpose or meaning.</p>
</div>
<div class="paragraph">
<p>The <code>PARTY_RELATED</code> type is used whenever the relationship of the party to the record subject is required. Relationships are coded and include familial ones ('mother', 'uncle', etc) as well as relationships like 'donor', 'travelling companion' and so on.</p>
</div>
<div class="sect4">
<h5 id="_party_self_and_referring_to_the_patient_from_the_ehr"><a class="anchor" href="#_party_self_and_referring_to_the_patient_from_the_ehr"></a>7.2.1.1. Party_self and Referring to the Patient from the EHR</h5>
<div class="paragraph">
<p>There are three schemes which are likely to be used for referring to patient (i.e. the record subject) demographic or patient master index (PMI) data from within the EHR, each likely to be valid in different circumstances. Each uses a <code>Party_self</code> object but with varying usage of the external_ref attribute, and are as follows.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code><em>external_ref</em></code> attribute is not set on any instances of <code>Party_self</code>, i.e. nowhere in the EHR. This is the most secure approach, and means that the link between the EHR and the patient has to be done outside the EHR, by associating <code>EHR.<em>ehr_id</em></code> and the patient demographic/ PMI identifier. This approach is more likely in more open data sharing environments.</p>
</li>
<li>
<p>The <code><em>external_ref</em></code> attribute is set once only in <code>EHR_STATUS.<em>subject</em></code>. Since the <code>EHR_STATUS</code> object is separate from the EHR contents, the root instance of <code>Party_self</code> will generally not be visible.</p>
</li>
<li>
<p>Setting the external_ref in every instance of <code>Party_self</code>; this solution makes the patient external_ref visible in every instance of <code>Party_self</code>, which is reasonable in a secure environment, and convenient for copying parts of the record around locally.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All three schemes are supported by the openEHR model, and will probably all find use in different settings and EHR deployment types.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_participation"><a class="anchor" href="#_participation"></a>7.2.2. Participation</h4>
<div class="paragraph">
<p>The Participation abstraction models the interaction of some Party in an activity. In the openEHR reference models, participations are modelled in two ways. In situations where the kinds of participation are known and constant, they are modelled as a named attribute in the relevant reference model. For example, the <code><em>committer</em>: Party_proxy</code> attribute in <code>AUDIT_DETAILS</code> models a participation in which the function is "committal". Where the kind of participation is not known at design time, a descendant of the generic <code>PARTICIPATION</code> class is used.</p>
</div>
</div>
<div class="sect3">
<h4 id="_audit_information"><a class="anchor" href="#_audit_information"></a>7.2.3. Audit Information</h4>
<div class="sect4">
<h5 id="_audit_details"><a class="anchor" href="#_audit_details"></a>7.2.3.1. Audit Details</h5>
<div class="paragraph">
<p>Three classes are provided to represent audit information. The first, <code>AUDIT_DETAILS</code> expresses the details that would be captured about a user when committing some information to a repository of some kind, which may be version controlled. It records the <code>system_id_</code>, <code><em>committer</em></code>, <code><em>time_committed</em></code>, <code><em>change_type</em></code> and an optional <code><em>description</em></code>.</p>
</div>
<div class="paragraph">
<p>The <code><em>system_id</em></code> attribute is used to record the identifier of the logical EHR repository to which the data containing the audit are committed. What constitutes a 'system' in this context is described in more detail in the <a href="https://specifications.openehr.org/releases/BASE/latest/architecture_overview.html#_the_ehr_system">Architecture Overview</a>.</p>
</div>
<div class="paragraph">
<p>Committer is recorded using a <code>Party_proxy</code>, allowing for <code>Party_self</code> to be used when the committer is the record subject, and for other identifying information to be included for other users, expressed using <code>Party_identified</code>. The kind of identifying information used in <code>Party_proxy</code> instances in <code>AUDIT_DETAILS</code> may be different from that used in <code>Composition.<em>composer</em></code> or elsewhere, i.e. in the form of a system login identifier, e.g. <code>"<a href="mailto:maxime.lavache@stpatricks.health.ie">maxime.lavache@stpatricks.health.ie</a>"</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_revision_history"><a class="anchor" href="#_revision_history"></a>7.2.3.2. Revision History</h5>
<div class="paragraph">
<p>The classes <code>REVISION_HISTORY</code> and <code>REVISION_HISTORY_ITEM</code> express the notion of a revision history, which consists of audit items, each associated with a revision number. An instance of the <code>REVISION_HISTORY_ITEM</code> class is designed to express the information that corresponds to an item in a revision history, i.e. a list of all audits relating to some information item. The version_id is included to indicate which revision each audit corresponds to. These classes provide an interoperable definition of revision history for the <code>VERSIONED_OBJECT</code> and <code>AUTHORED_RESOURCE</code> classes.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_attestation"><a class="anchor" href="#_attestation"></a>7.2.4. Attestation</h4>
<div class="paragraph">
<p>Attestation is another concept which occurs commonly in health information. An attestation is an explicit signing by one healthcare agent of particular content for various particular purposes, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>for authorisation of a controlled substance or procedure (e.g. sectioning of patient under mental health act);</p>
</li>
<li>
<p>witnessing of content by senior clinical professional;</p>
</li>
<li>
<p>indicating acknowledgement of content by intended recipient, e.g. GP who ordered a test result.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here it is modelled as a subtype of <code>AUDIT_DETAILS</code>, meaning that it is logically a kind of audit, with additional information pertinent to the act of signing. The contents of an <code>ATTESTATION</code> are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the identity of the attesting party (<code>AUDIT_DETAILS.<em>committer</em></code>);</p>
</li>
<li>
<p>the date and time of the action of attestation (<code>AUDIT_DETAILS.<em>time_committed</em></code>);</p>
</li>
<li>
<p>references to items in the record being attested to (<code>ATTESTATION.<em>items</em></code>); if this list is empty, the attestation is for the entire object (usually the content of an <code>ORIGINAL_VERSION</code>) to which the attestation is attached, otherwise the list must contain a set of paths to items within the item to which the attestation is attached;</p>
</li>
<li>
<p>an optionally coded reason for attestation (<code>ATTESTATION.<em>reason</em></code>);</p>
</li>
<li>
<p>an optional literal view of the content attested, e.g. a binary screen image;</p>
</li>
<li>
<p>a proof of attestation in the form of a digital signature by the attesting party.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The digital signature, if present, is generated using the openPGP standard (<a href="https://tools.ietf.org/html/rfc4880">IETF RFC 4880</a>) as, according to the process shown below.</p>
</div>
<div id="attestation_signature_generation" class="imageblock text-center text-center">
<div class="content">
<img src="base_types/diagrams/attestation_signature_generation.png" alt="attestation signature generation" width="80%">
</div>
<div class="title">Figure 8. Attestation signature generation (using openPGP)</div>
</div>
<div class="paragraph">
<p>In this process, the attestation object is serialised into a canonical text form, and then hashed to create a digest. A digital signature is created from the hash, using the user&#8217;s private key. The result is then radix-64 encoded to create an ASCII string so as to remove or reduce potential problems with subsequent communication. The openPGP standard ensures that the transformations and algorithms used to create the signature are indicated within it (i.e. the signature is self-describing).</p>
</div>
<div class="paragraph">
<p>The serialisation process works by the simple rule of serialising the entire Attestation object (note that the proof attribute will be Void at this point) into an agreed XML, <a href="https://specifications.openehr.org/releases/LANG/latest/odin.html">openEHR ODIN</a> or other text format, then applying the subsequent transformations to the serialised data, then writing the digest result back into the proof attribute.</p>
</div>
<div class="paragraph tbd">
<p><strong>To Be Determined</strong>: The exact serialisation is not yet defined by openEHR, but dADL might be preferred since it has an unambiguous encoding of object structures, whereas XML libraries generate different XML from the same objects.</p>
</div>
<div class="paragraph">
<p>Normally the list of items being attested should be a single Entry or Composition, but there is nothing stopping it including fine-grained items, even though separate attestation of such items does not appear to be commensurate with good clinical information design or process.</p>
</div>
<div class="paragraph">
<p>The <code><em>reason</em></code> attribute is used to indicate why the attestation occurred, and is coded using the openEHR Terminology group "attestation reason", which includes values such as "authorisation" and "witnessed". The <code><em>is_pending</em></code> attribute marks the attestation as either having been done or awaiting completion depending on its value. This facilitates querying the record to find items needing to be signed or witnessed. When an attestation is required, the most common scenario will be that a Composition Version will be committed with a <code><em>commit_audit</em></code> of type <code>ATTESTATION</code>, rather than just <code>AUDIT_DETAILS</code>; the <code><em>is_pending</em></code> flag will be set to True to indicate that the committed information needs to be signed by another person. When signing occurs, it will cause a new <code>ATTESTATION</code> object to be added to the <code>VERSION.<em>attestations</em></code> list, this time with <code><em>is_pending</em></code> set to False, and the appropriate proof supplied. Thus, the common situation in which content is committed to the record and needs later review and signing by a senior person will cause the creation of two <code>ATTESTATION</code> objects.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_class_descriptions_5"><a class="anchor" href="#_class_descriptions_5"></a>7.3. Class Descriptions</h3>
<div class="sect3">
<h4 id="_party_proxy_class"><a class="anchor" href="#_party_proxy_class"></a>7.3.1. Party_proxy Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>Party_proxy (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Abstract concept of a proxy description of a party, including an optional link to data for this party in a demographic or other identity management system. Sub- typed into <code>PARTY_IDENTIFIED</code> and <code>PARTY_SELF</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>external_ref</strong>: <code><a href="#_object_ref_class">Object_ref</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional reference to external representation of Party, for example in a MAster Patient Index.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_party_self_class"><a class="anchor" href="#_party_self_class"></a>7.3.2. Party_self Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Party_self</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Party proxy representing the subject of the record. Used to indicate that the party is the owner of the record. May or may not have <code><em>external_ref</em></code> set.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_party_proxy_class">Party_proxy</a></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_party_identified_class"><a class="anchor" href="#_party_identified_class"></a>7.3.3. Party_identified Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Party_identified</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Proxy data for an identified party other than the subject of the record, minimally consisting of human-readable identifier(s), such as name, formal (and possibly computable) identifiers such as NHS number, and an optional link to external data. There must be at least one of name, identifier or external_ref present.</p>
</div>
<div class="paragraph">
<p>Used to describe parties where only identifiers may be known, and there is no entry at all in the demographic system (or even no demographic system). Typically for health care providers, e.g. name and provider number of an institution.</p>
</div>
<div class="paragraph">
<p>Should not be used to include patient identifying information.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_party_proxy_class">Party_proxy</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>name</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional human-readable name (in String form).</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>identifiers</strong>: <code>List&lt;<a href="/releases/BASE/latest/data_types.html#_rwe_id_ref_class" target="_blank" rel="noopener">Rwe_id_ref</a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>One or more formal identifiers (possibly computable).</p>
</div>
<div class="paragraph">
<p>TODO: fix type</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Basic_validity</em>: <code>name /= Void or identifiers /= Void or external_ref /= Void</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Name_valid</em>: <code>name /= Void implies not name.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Identifiers_valid</em>: <code>identifiers /= Void implies not identifiers.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_party_related_class"><a class="anchor" href="#_party_related_class"></a>7.3.4. Party_related Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Party_related</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Proxy type for identifying a party and its relationship to the subject of the record. Use where the relationship between the party and the subject of the record must be known.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_party_identified_class">Party_identified</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>relationship</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_terminology_term_class" target="_blank" rel="noopener">Terminology_term</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Relationship of subject of this Entry to the subject of the record. May be coded. If it is the patient, coded as  self.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Relationship_valid</em>: <code>terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_subject_relationship, relationship.defining_code)</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_participation_class"><a class="anchor" href="#_participation_class"></a>7.3.5. Participation Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Participation</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Model of a participation of a Party (any Actor or Role) in an activity.  Used to represent any participation of a Party in some activity, which is not  explicitly in the model, e.g. assisting nurse. Can be used to record past or  future participations.</p>
</div>
<div class="paragraph">
<p>Should not be used in place of more permanent relationships between demographic entities.</p>
</div>
<div class="paragraph">
<p>GRAPHITE: equivalent of Attribution CEM</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>function</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_terminology_term_class" target="_blank" rel="noopener">Terminology_term</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The function of the Party in this participation. Note that a given party might participate in more than one way in a particular activity.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>role</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_terminology_term_class" target="_blank" rel="noopener">Terminology_term</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Role of participant within the organisation, e.g. cardiologist, senior nurse.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>performer</strong>: <code><a href="#_party_proxy_class">Party_proxy</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The id and possibly demographic system link of the party participating in the activity.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>mode</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_terminology_term_class" target="_blank" rel="noopener">Terminology_term</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional field for recording the 'mode' of the performer / activity interaction, e.g. present, by telephone, by email etc.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>time</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_interval_class">Interval<sup></a>&lt;<a href="/releases/BASE/latest/foundation_types.html#_date_time_class">Date_time</sup></a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The time interval during which the participation took place, if it is used in an observational context (i.e. recording facts about the past); or the intended time interval of the participation when used in future contexts, such as EHR Instructions.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Function_valid</em>: <code>function.generating_type.is_equal ("DV_CODED_TEXT") implies
terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_participation_function, function.defining_code)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Mode_valid</em>: <code>mode /= Void implies terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_participation_mode, mode.defining_code)</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-05-19 09:59:53 -0600
</div>
</div>
</body>
</html>