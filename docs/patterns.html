<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<meta name="description" content="S2 Patterns information model">
<meta name="keywords" content="EHR, data structures, reference model, S2">
<title>S2 Patterns Model</title>
<link rel="stylesheet" href="https://platform.s2health.org/css/s2.css">
<link rel="stylesheet" href="https://platform.s2health.org/css/pygments-default.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#_s2_patterns_model">S2 Patterns Model</a>
<ul class="sectlevel1">
<li><a href="#_revision_history">Revision History</a></li>
<li><a href="#_acknowledgements">Acknowledgements</a>
<ul class="sectlevel2">
<li><a href="#_editor">Editor</a></li>
<li><a href="#_contributors">Contributors</a></li>
<li><a href="#_support">Support</a></li>
<li><a href="#_trademarks">Trademarks</a></li>
</ul>
</li>
<li><a href="#_preface">1. Preface</a>
<ul class="sectlevel2">
<li><a href="#_purpose">1.1. Purpose</a></li>
<li><a href="#_related_documents">1.2. Related Documents</a></li>
<li><a href="#_status">1.3. Status</a></li>
<li><a href="#_prior_art">1.4. Prior Art</a></li>
<li><a href="#_feedback">1.5. Feedback</a></li>
<li><a href="#_conformance">1.6. Conformance</a></li>
</ul>
</li>
<li><a href="#_data_structures">2. Data Structures</a>
<ul class="sectlevel2">
<li><a href="#_requirements">2.1. Requirements</a>
<ul class="sectlevel3">
<li><a href="#_inline_data">2.1.1. Inline Data</a></li>
<li><a href="#_entity_references">2.1.2. Entity References</a></li>
<li><a href="#_citations_of_previously_captured_data">2.1.3. Citations of Previously Captured Data</a></li>
</ul>
</li>
<li><a href="#_overview">2.2. Overview</a></li>
<li><a href="#_structure_representation">2.3. Structure Representation</a>
<ul class="sectlevel3">
<li><a href="#_class_descriptions">2.3.1. Class Descriptions</a>
<ul class="sectlevel4">
<li><a href="#_node_class">2.3.1.1. Node Class</a></li>
<li><a href="#_info_node_class">2.3.1.2. Info_node Class</a></li>
<li><a href="#_entity_ref_node_class">2.3.1.3. Entity_ref_node Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_time_series_representation">2.4. Time Series Representation</a>
<ul class="sectlevel3">
<li><a href="#_basic_semantics">2.4.1. Basic Semantics</a></li>
<li><a href="#_timing">2.4.2. Timing</a></li>
<li><a href="#_point_events">2.4.3. Point Events</a></li>
<li><a href="#_interval_events">2.4.4. Interval Events</a></li>
<li><a href="#_change_data">2.4.5. Change Data</a></li>
<li><a href="#_summary_event_data">2.4.6. Summary Event Data</a></li>
<li><a href="#_efficient_representation_of_real_time_device_data">2.4.7. Efficient Representation of Real-time Device Data</a></li>
<li><a href="#_class_descriptions_2">2.4.8. Class Descriptions</a>
<ul class="sectlevel4">
<li><a href="#_event_class">2.4.8.1. Event Class</a></li>
<li><a href="#_point_event_class">2.4.8.2. Point_event Class</a></li>
<li><a href="#_interval_event_class">2.4.8.3. Interval_event Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_history_instance_structures">2.5. History Instance Structures</a>
<ul class="sectlevel3">
<li><a href="#_single_sample">2.5.1. Single Sample</a></li>
<li><a href="#_5_minute_blood_pressure_averages">2.5.2. 5-minute Blood Pressure Averages</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_participation_package">3. Participation Package</a>
<ul class="sectlevel2">
<li><a href="#_overview_2">3.1. Overview</a></li>
<li><a href="#_design_principles">3.2. Design Principles</a>
<ul class="sectlevel3">
<li><a href="#_referring_to_external_entities">3.2.1. Referring to External Entities</a></li>
</ul>
</li>
<li><a href="#_class_descriptions_3">3.3. Class Descriptions</a>
<ul class="sectlevel3">
<li><a href="#_participation_class">3.3.1. Participation Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_archetyped_package">4. Archetyped Package</a>
<ul class="sectlevel2">
<li><a href="#_overview_3">4.1. Overview</a>
<ul class="sectlevel3">
<li><a href="#_the_pathable_class">4.1.1. The Pathable Class</a></li>
<li><a href="#_the_locatable_class">4.1.2. The Locatable Class</a>
<ul class="sectlevel4">
<li><a href="#_unique_node_identification">4.1.2.1. Unique Node Identification</a></li>
</ul>
</li>
<li><a href="#_feeder_system_audit">4.1.3. Feeder System Audit</a>
<ul class="sectlevel4">
<li><a href="#_requirements_2">4.1.3.1. Requirements</a></li>
<li><a href="#_design_principles_2">4.1.3.2. Design Principles</a></li>
<li><a href="#_meta_data">4.1.3.3. Meta-data</a></li>
<li><a href="#_traceability">4.1.3.4. Traceability</a></li>
<li><a href="#_version_detection">4.1.3.5. Version Detection</a></li>
<li><a href="#_duplicate_detection">4.1.3.6. Duplicate Detection</a></li>
<li><a href="#_differentially_coded_data">4.1.3.7. Differentially Coded Data</a></li>
<li><a href="#_using_feeder_audit_in_converted_data">4.1.3.8. Using Feeder Audit in Converted Data</a></li>
<li><a href="#_structural_correspondence">4.1.3.9. Structural Correspondence</a></li>
<li><a href="#_original_content">4.1.3.10. Original Content</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_class_definitions">4.2. Class Definitions</a>
<ul class="sectlevel3">
<li><a href="#_pathable_class">4.2.1. Pathable Class</a></li>
<li><a href="#_locatable_class">4.2.2. Locatable Class</a></li>
<li><a href="#_archetyped_class">4.2.3. Archetyped Class</a></li>
<li><a href="#_link_class">4.2.4. Link Class</a></li>
<li><a href="#_feeder_audit_class">4.2.5. Feeder_audit Class</a></li>
<li><a href="#_feeder_audit_details_class">4.2.6. Feeder_audit_details Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_references">References</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock text-center">
<div class="content">
<img src="http://s2health.org/resources/logos/s2logo.svg" alt="S2 logo">
</div>
</div>
</div>
</div>
<h1 id="_s2_patterns_model" class="sect0"><a class="anchor" href="#_s2_patterns_model"></a>S2 Patterns Model</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all fit-content spread">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong>Issuer</strong>: <a href="http://www.s2health.org" target="_blank" rel="noopener">S2 Health</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Release</strong>: BASE latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Status</strong>: DEVELOPMENT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Revision</strong>: <a href="#latest_issue">0.8.7</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Date</strong>: <a href="#latest_issue_date">04 Nov 2024</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Keywords</strong>: EHR, data structures, reference model, S2</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2">&#169; 2023 - 2025 S2 Health</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><a href="http://www.s2health.org" target="_blank" rel="noopener">S2 Health</a> is an independent, non-profit foundation.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Licence</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="https://specifications.openehr.org/images/cc-by-nd-88x31.png" alt="image"></span> Creative Commons Attribution-NoDerivs 4.0 Unported. <a href="https://creativecommons.org/licenses/by-nd/4.0/" class="bare">https://creativecommons.org/licenses/by-nd/4.0/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Support</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Issues: <a href="https://platform.s2health.org/components/BASE/open_issues" target="_blank" rel="noopener">Report an Issue</a><br>
 Web: <a href="https://platform.s2health.org" target="_blank" rel="noopener">https://platform.s2health.org</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_revision_history"><a class="anchor" href="#_revision_history"></a>Revision History</h2>
<div class="sectionbody">
<details>
<summary class="title">[click here]</summary>
<div class="content">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 54.5454%;">
<col style="width: 18.1818%;">
<col style="width: 18.1819%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Issue</th>
<th class="tableblock halign-left valign-top">Details</th>
<th class="tableblock halign-left valign-top">Resolution</th>
<th class="tableblock halign-left valign-top">Completed</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>BASE Release 0.8.7</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue"></a>0.8.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://platform.s2health.org/tickets/S2BASE-60" target="_blank" rel="noopener">S2BASE-60</a>. Remove custom domain descendants of <code>Info_item</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D Perkins</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue_date"></a>04 Nov 2024</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>BASE Release 0.8.6</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.8.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://platform.s2health.org/tickets/S2BASE-58" target="_blank" rel="noopener">S2BASE-58</a>. Move re-usable Entity classes to BASE as subtypes of <code>Info_node</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">07 Oct 2024</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>BASE Release 0.8.5</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.8.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://platform.s2health.org/tickets/S2BASE-49" target="_blank" rel="noopener">S2BASE-49</a>. Replace <code>Party_proxy</code> and related classes with <code>Entity_ref_node</code>;<br>
 <a href="https://platform.s2health.org/tickets/S2BASE-49" target="_blank" rel="noopener">S2BASE-57</a>. Make <code>Participation Locatable</code>;<br>
 <a href="https://platform.s2health.org/tickets/S2BASE-29" target="_blank" rel="noopener">S2BASE-29</a>. Refactor <code>Node</code> to <code>Entity_ref_node</code> and <code>Info_node</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">J Coyle,<br>
N Davis,<br>
S Huff,<br>
T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">27 Sep 2024</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>BASE Release 0.7.5</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.7.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://platform.s2health.org/tickets/S2BASE-33" target="_blank" rel="noopener">S2BASE-33</a>. Specify terminology for built-in attributes in BASE classes;<br>
<a href="https://platform.s2health.org/tickets/S2BASE-8" target="_blank" rel="noopener">S2BASE-8</a>. Define <code>null_flavour</code> codes to use in <code>Node</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">J Coyle,<br>
N Davis,<br>
S Huff,<br>
T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">17 Nov 2023</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>BASE Release 0.7.0</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.7.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://platform.s2health.org/tickets/S2BASE-18" target="_blank" rel="noopener">S2BASE-18</a>. Replace <code>Cluster</code> and <code>Element</code> with single <code>Node</code> type.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">J Coyle,<br>
N Davis,<br>
S Huff,<br>
T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">19 Oct 2023</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://platform.s2health.org/tickets/S2BASE-17" target="_blank" rel="noopener">S2BASE-17</a>. Add <code>Element.<em>original_value</em></code> field to carry pre-normalized value where needed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">J Coyle,<br>
N Davis,<br>
S Huff,<br>
T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">17 Oct 2023</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>BASE Release 0.6.0</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.6.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial Writing: based on openEHR and HL7 FHIR Data structures.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 Apr 2023</p></td>
</tr>
</tbody>
</table>
</div>
</details>
</div>
</div>
<div class="sect1">
<h2 id="_acknowledgements"><a class="anchor" href="#_acknowledgements"></a>Acknowledgements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_editor"><a class="anchor" href="#_editor"></a>Editor</h3>
<div class="ulist">
<ul>
<li>
<p>Graphite Health Informatics group.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contributors"><a class="anchor" href="#_contributors"></a>Contributors</h3>
<div class="paragraph">
<p>This specification benefited from input from the wider health informatics community. The S2 Foundation would like to recognise the following people for their contributions.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>xxx</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_support"><a class="anchor" href="#_support"></a>Support</h3>
<div class="paragraph">
<p>The work reported in this specification has been funded in part by the following organisations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>xxx</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_trademarks"><a class="anchor" href="#_trademarks"></a>Trademarks</h3>
<div class="ulist">
<ul>
<li>
<p>'openEHR' is a trademark of the openEHR Foundation</p>
</li>
<li>
<p>'Java' is a registered trademark of Oracle Corporation</p>
</li>
<li>
<p>'Microsoft' and '.Net' are trademarks of the Microsoft Corporation</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preface"><a class="anchor" href="#_preface"></a>1. Preface</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_purpose"><a class="anchor" href="#_purpose"></a>1.1. Purpose</h3>
<div class="paragraph">
<p>This document specifies common patterns used in S2 Reference Model, including participation and recursive data structures.</p>
</div>
<div class="paragraph">
<p>The intended audience includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Standards bodies producing health informatics standards;</p>
</li>
<li>
<p>Academic groups using openEHR;</p>
</li>
<li>
<p>The open source healthcare community;</p>
</li>
<li>
<p>Solution vendors;</p>
</li>
<li>
<p>Medical informaticians and clinicians interested in health information.</p>
</li>
<li>
<p>Health data managers.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_documents"><a class="anchor" href="#_related_documents"></a>1.2. Related Documents</h3>
<div class="paragraph">
<p>Prerequisite documents for reading this document include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="https://platform.s2health.org/releases/RM/latest/architecture_overview.html" target="_blank" rel="noopener">S2 Architecture Overview</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_status"><a class="anchor" href="#_status"></a>1.3. Status</h3>
<div class="paragraph">
<p>This specification is in the DEVELOPMENT state. The development version of this document can be found at <a href="https://platform.s2health.org/releases/BASE/latest/patterns.html" target="_blank" rel="noopener">https://platform.s2health.org/releases/BASE/latest/patterns.html</a>.</p>
</div>
<div class="paragraph">
<p>Known omissions or questions are indicated in the text with a 'to be determined' paragraph, as follows:</p>
</div>
<div class="paragraph tbd">
<p><strong>TBD</strong>: (example To Be Determined paragraph)</p>
</div>
</div>
<div class="sect2">
<h3 id="_prior_art"><a class="anchor" href="#_prior_art"></a>1.4. Prior Art</h3>
<div class="paragraph">
<p>Parts of this specification were adapted from the <a href="https://specifications.openehr.org/releases/RM/latest/common.html" target="_blank" rel="noopener">openEHR Common Information Model</a>. It has been slightly modified as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>class names are converted to 'mixed snake case';</p>
</li>
<li>
<p>the <code>Participation</code> type uses <code>Entity_ref_node</code> as the type of its <code><em>performer</em></code> property, replacing the openEHR <code>PARTY_PROXY</code> type hierarchy completely;</p>
</li>
<li>
<p>the <code>Locatable</code> class and related classes perform the same conceptual function as in openEHR, but support external (LOINC) terminology coding on every archetyped node (i.e. openEHR <code>CLUSTER</code> or <code>ELEMENT</code> nodes).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_feedback"><a class="anchor" href="#_feedback"></a>1.5. Feedback</h3>
<div class="paragraph">
<p>Feedback may be provided on the <a href="https://discourse.s2health.org" target="_blank" rel="noopener">S2 forum</a>.</p>
</div>
<div class="paragraph">
<p>Issues may be raised on the <a href="https://platform.s2health.org/components/BASE/open_issues" target="_blank" rel="noopener">specifications Problem Report tracker</a>.</p>
</div>
<div class="paragraph">
<p>To see changes made due to previously reported issues, see the <a href="https://platform.s2health.org/components/BASE/history" target="_blank" rel="noopener">BASE component Change Request tracker</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_conformance"><a class="anchor" href="#_conformance"></a>1.6. Conformance</h3>
<div class="paragraph">
<p>Conformance of a data or software artifact to an S2 specification is determined by a formal test of that artifact against the relevant S2 Implementation Technology Specification(s) (ITSs), such as a JSON-schema or OpenAPI specification. Since ITSs are formal derivations from underlying models, ITS conformance indicates model conformance.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_data_structures"><a class="anchor" href="#_data_structures"></a>2. Data Structures</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_requirements"><a class="anchor" href="#_requirements"></a>2.1. Requirements</h3>
<div class="paragraph">
<p>Representation of clinical data requires the following categories of content:</p>
</div>
<div class="sect3">
<h4 id="_inline_data"><a class="anchor" href="#_inline_data"></a>2.1.1. Inline Data</h4>
<div class="paragraph">
<p>Data that is the primary representation of some content occurs in the following form:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>trees of values, e.g. biochemistry, microbiology results;</p>
</li>
<li>
<p>histories of values, each of which takes any of the above forms, e.g. a time series of blood pressures, glucose levels, or imaging data.</p>
</li>
</ul>
</div>
<div class="paragraph tbd">
<p>TBD; more</p>
</div>
</div>
<div class="sect3">
<h4 id="_entity_references"><a class="anchor" href="#_entity_references"></a>2.1.2. Entity References</h4>
<div class="paragraph">
<p>Some data items are semantically references to real world entities such as persons, devices, places, processes etc. The latter are represented by digital twin objects, either inside or outside the clinical data environment. Entity reference objects need to be able to represent the following, in any any all combinations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a coded term indicating just the type of entity, e.g. 'obstetric ultrasound machine`;</p>
</li>
<li>
<p>a reference to an information object in an appropriate system (eMPI, inventory, etc) system;</p>
</li>
<li>
<p>a data 'thumbnail', which is configurable outside the RM, and consists of a copy of any data elements from the reference target that are to be inlined for convenience in the referring data.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The formal reference (second item above) may include one or more of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a machine identifier, e.g. a system-generated Guid for a Person object;</p>
</li>
<li>
<p>a real-world identifier for the entity, e.g. a government-issued social security number;</p>
</li>
<li>
<p>a multi-part match 'key', i.e. one or more other attributes of the entity that may be used to reliably match it in case other methods fail.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>None of these methods is guaranteed to work in all circumstances. The first method can fail if machine identifiers are not preserved across technology upgrades, product replacements etc. while the last is not inherently reliable if it doesn&#8217;t include externally issued identifiers. The second method is usually fairly reliable, if the issuing organization and its systems are long-term reliable. More than one method may be required to resolve the reference in some circumstances.</p>
</div>
</div>
<div class="sect3">
<h4 id="_citations_of_previously_captured_data"><a class="anchor" href="#_citations_of_previously_captured_data"></a>2.1.3. Citations of Previously Captured Data</h4>
<div class="paragraph">
<p>A third case is the ability to cite inline a previously recorded information item that is not itself a distinct entity, e.g. a previous diagnosis, high blood pressure or similar.</p>
</div>
<div class="paragraph tbd">
<p>TBD: not yet supported.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_overview"><a class="anchor" href="#_overview"></a>2.2. Overview</h3>
<div class="paragraph">
<p>The <code>base.patterns.data_structures</code> package contains classes representing inline data, including time series; and entity references. and is illustrated below.</p>
</div>
<div id="data_structures_package" class="imageblock text-center text-center">
<div class="content">
<img src="UML/diagrams/BASE-patterns.data_structures.svg" alt="BASE patterns.data structures">
</div>
<div class="title">Figure 1. base.patterns.data_structures Package</div>
</div>
</div>
<div class="sect2">
<h3 id="_structure_representation"><a class="anchor" href="#_structure_representation"></a>2.3. Structure Representation</h3>
<div class="paragraph">
<p>Representation of structures other tan time series is supported by a number of 'node' classes. The general concept is that any 'data point' can be fractal, and may consist of literally one data item, or a sub-structure of further detail, or both. A typical example is a structure representing body location. A single data value representation is typically a coded term from a terminology such as SNOMED CT. More detailed anatomical location information may consist of subordinate data points representing e.g. centre point, radius, distance from morphological features and so on. In general, any set of 'data points' is always potentially a set of trees. Where there is sub-structure, the single parent element is usually a summary, coded, and/or stringified representation of the details.</p>
</div>
<div class="paragraph">
<p>This structure is formalised in the <code>Node</code> class, in which the <code><em>value</em></code> property records a single item of type <code>Data_value</code> and the <code><em>items</em></code> property provides the sub-tree of subordinate elements, each of which is another <code>Node</code>.</p>
</div>
<div class="paragraph">
<p>The <code>Node</code> class is abstract, and has two concrete descendants: <code>Info_node</code>, for representing inline data, and <code>Entity_ref_node</code>, for representing references to the information representations (digital twins) of independent entities, such as devices, persons etc.</p>
</div>
<div class="paragraph">
<p>The <code>Entity_ref_node</code> property <code><em>is_self</em></code> is provided to allow an entity reference to be marked to indicate that it is the subject of the information containing the reference, where this has meaning. The main use of this is to create references from within person-oriented records such as health records that indicate that the subject of a particular piece of information is the same as the subject of the record. Where this is used, the <code><em>entity_ref</em></code> property would typically not be populated, for reasons of security (i.e. to prevent any link from personal health or other data to identifying information).</p>
</div>
<div class="sect3">
<h4 id="_class_descriptions"><a class="anchor" href="#_class_descriptions"></a>2.3.1. Class Descriptions</h4>
<div class="sect4">
<h5 id="_node_class"><a class="anchor" href="#_node_class"></a>2.3.1.1. Node Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>Node (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Node carrying data about a real world Entity. May be represented as an atomic value, via the <code><em>value</em></code> field, or a further sub-structure, or both,</p>
</div>
<div class="paragraph">
<p>If the <code><em>value</em></code> property is set, it carries the normalized value. In cases where this is different in a significant way from the originally captured value, the <code><em>original_value</em></code> is used to capture the latter. Cases include: conversion of units; terminology conversion / mapping.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_info_item_class">Info_item</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>null_flavor</strong>: <code><a href="#_terminology_term_class">Terminology_term</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Flavor of null value, e.g. <code>253&#124;unknown&#124;</code>, <code>271&#124;no information&#124;</code>, <code>272&#124;masked&#124;</code>, and <code>273&#124;not applicable&#124;</code>.</p>
</div>
<div class="paragraph">
<p>TODO: correct to S2 codes</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>null_reason</strong>: <code><a href="#_text_class">Text</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional specific reason for null value; if set, <code><em>null_flavour</em></code> must be set. Null reason may apply only to a minority of clinical data, commonly needed in reporting contexts.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>items</strong>: <code>List&lt;<a href="#_node_class">Node</a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Subordinate data items.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>value</strong>: <code><a href="#_data_value_class">Data_value</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>Normalized</em> value within <code>Element</code>. Any concrete subtype of <code>Data_value</code> can be used.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>is_null</strong> (): <code><a href="#_boolean_class">Boolean</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>True if value logically not known, e.g. if indeterminate, not asked etc.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Inv_is_null_valid</em>: <code>is_null() = (value = Void)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Inv_null_flavour_indicated</em>: <code>is_null() xor null_flavour = Void</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Inv_null_flavour_valid</em>: <code>is_null implies terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_null_flavour, null_flavour.defining_code)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Inv_null_reason_valid</em>: <code>null_reason /= Void implies is_null()</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_info_node_class"><a class="anchor" href="#_info_node_class"></a>2.3.1.2. Info_node Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Info_node</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_node_class">Node</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>original_value</strong>: <code><a href="#_data_value_class">Data_value</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional property to record data value in the form captured in original application or system.</p>
</div>
<div class="paragraph">
<p>Use only for original values that might be useful to the end user of the converted information, e.g. a quantity in original units.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_entity_ref_node_class"><a class="anchor" href="#_entity_ref_node_class"></a>2.3.1.3. Entity_ref_node Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Entity_ref_node</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Node representing a reference to a real world Individual of some Entity type, that can be resolved to the location of the definitive digital twin of the entity.</p>
</div>
<div class="paragraph">
<p>Node that is a reference to an Individual Entity. The <code>items</code> property should only be used to represent a 'thumbnail' of original data, i.e. a selection that is required to be inline for convenience.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_node_class">Node</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>entity_ref</strong>: <code><a href="#_object_ref_class">Object_ref</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Entity&#8217;s information system (i.e. digital twin) identifier.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>is_self</strong>: <code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>True if this reference stands for the 'self' or subject (typically a patient) of information.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_time_series_representation"><a class="anchor" href="#_time_series_representation"></a>2.4. Time Series Representation</h3>
<div class="paragraph">
<p>The <code>history</code> classes formalise the concept of past, linear time, via which historical data of any structural complexity can be recorded. It supports both instantaneous and interval event samples within periodic and aperiodic series.</p>
</div>
<div class="paragraph">
<p>Regardless of whether the actual data consist of a single sample or many, they are represented in the same way: as a history of events, i.e. as a time series, allowing all software to access data in a uniform way, whether it be a single measurement of weight, a long series of three- or four-dimensional images, or a series of encapsulated multimedia items. The type of data contained in a History structure may be any openEHR data, including text, coded, quantitative, time, or multimedia. In the case of quantitative and date/time data (<code>rm.data_types.quantity</code> package in <a href="https://specifications.openehr.org/releases/RM/latest/data_types.html#_quantity_package" target="_blank" rel="noopener">openEHR Data Types</a>), the data are formally quantitative, but for the vast majority of cases of other types of data (text, coded etc), there is an obvious quantitative interpretation associated with the values. An example is samples whose data values are coded terms such as 'low', 'normal', 'high', 'critical high', representing blood pressure measurements over time.</p>
</div>
<div class="paragraph">
<p>Instantaneous events are representing using the type <code>Point_event</code>, for which the value (<code><em>data</em></code> attribute) always represents an actual instantaneous value of a datum at a point in time. However, time series data may also be represented using the <code>Interval_event</code> type, enabling values other than 'actual' to be recorded for intervals of time. Events recorded in this form are accordingly tagged with a mathematical function, such as 'actual', 'mean', 'change' and so on, as defined by the openEHR <a href="https://github.com/openEHR/specifications-TERM/blob/master/computable/XML/en/openehr_terminology.xml" target="_blank" rel="noopener"><code>event math function</code> vocabulary</a>.</p>
</div>
<div class="paragraph">
<p>The model also supports the inclusion of 'summary' data, i.e. a textual or image item which summarises in some way the entire history.</p>
</div>
<div class="paragraph">
<p>In formal terms, the model defines the constrained generic (otherwise known as 'template' or 'parameterised') types <code>History&lt;T&#8594;Cluster&gt;</code>, <code>`Event</code>&lt;T&#8594;Cluster&gt;`, <code>Point_event&lt;T&gt;</code>, and <code>Interval_event&lt;T&gt;</code> where the <code><em>type</em></code> parameter is constrained to the <code>Cluster</code> type, and defines the type of the data recorded in an instance of <code>History</code>. The effect is that repeated instances of spatially complex data can recur in time, corresponding to the way data are actually measured. An aperiodic series of <code>Point_event</code> instances would typically be used to represent manual measurements repeated in time. Periodic histories of <code>Interval_event</code> instances would typically be used to represent vital signs monitor output (which is usually delivered in averaged form potentially with additional minimum and maximum values).</p>
</div>
<div class="paragraph">
<p>As with all other parts of the openEHR reference model, the <code>history</code> package is designed so that archetypes define the domain semantics of <code>History</code> instances. The <code>history</code> package is shown on the left of <a href="#data_structures_package">Figure 1</a>.</p>
</div>
<div class="sect3">
<h4 id="_basic_semantics"><a class="anchor" href="#_basic_semantics"></a>2.4.1. Basic Semantics</h4>
<div class="paragraph">
<p>The intention of the History model is to represent time-based data for which every sample in the series is a measurement of the same phenomenon (e.g. patient heart rate) and is obtained using the same measurement method (e.g. pulse oximeter). Samples taken in this way can be reliably treated as comparable, i.e. representing changes in the same phenomenon over time, and accordingly can be safely used for time-based computation, such as graphing, statistical analysis and so on. A History can contain any mixture of <code>Point_event</code> and <code>Interval_event</code> instances. Clearly it is impossible for the model to guarantee completely correct usage on its own, however there two major safeguards.</p>
</div>
<div class="paragraph">
<p>Firstly, the use of generic types forces the type of the data in each Event to be the same. A History of type <code>History&lt;Node&gt;</code> therefore constrains the type of the data at each Event (<code>`Event</code>.<em>item</em>`) to be of type <code>Node</code> and nothing else.</p>
</div>
<div class="paragraph">
<p>Secondly, the use of archetyping (typically within openEHR Observation archetypes) ensures the actual structure of the <code>Cluster</code> subtype is defined in the same way for every sample - e.g. a two-item list representing systolic and diastolic blood pressure.</p>
</div>
</div>
<div class="sect3">
<h4 id="_timing"><a class="anchor" href="#_timing"></a>2.4.2. Timing</h4>
<div class="paragraph">
<p>An instance of the <code>History</code> class contains the <code><em>origin</em>: Date_time</code> attribute, indicating what is considered the '0-point' of the time series, and a series of instances of the <code>Event</code> subtype, each containing a <code><em>time</em>: Date_time</code> attribute representing the absolute time of the event. The relative offset
of any Event is computed as the difference between the <code>Event`.<em>time</em>` and <code>History.<em>origin</em></code> by the </code>Event`.<em>offset</em>` function. For Interval events (i.e. instances of <code>Interval_event</code>), the <code><em>time</em></code> attribute always refers to the end time of the event, since this is the time at which the data (e.g. average) are true.</p>
</div>
<div class="paragraph">
<p>The origin time of a History does not have to be the time of the first sample - it might be the time of an event such as child-birth with respect to which the samples are recorded, e.g. Apgar scores (Apgar is a 0-10 score indicating the health of a newborn based on breathing, heart rate, colour, muscle tone and reflexes) at 1 and 3 minute offsets.</p>
</div>
<div class="paragraph">
<p>Periodicity and aperiodicity are expressed via the <code><em>is_periodic</em></code> and <code><em>period</em></code> attributes. For a periodic time-series, <code><em>period</em></code> is set to the period duration value and <code><em>is_periodic</em></code> returns <code>True</code>. The total duration of the History is given by the <code>History.<em>duration</em></code> function. The following figure illustrates a number of variations in History periodicity and Event type.</p>
</div>
<div id="history_period" class="imageblock text-center text-center">
<div class="content">
<img src="patterns/diagrams/history_period.svg" alt="history period" width="70%">
</div>
<div class="title">Figure 2. Variation in History periodicity and Event width</div>
</div>
</div>
<div class="sect3">
<h4 id="_point_events"><a class="anchor" href="#_point_events"></a>2.4.3. Point Events</h4>
<div class="paragraph">
<p>The simplest kind of Event in a History is a 'point' event, expressed by instances of the class <code>Point_event</code>, representing an instantaneous value. A <code>History</code> instance may be composed solely of Point events, as would be the case with a number of blood pressure values measured over time as the patient changes position. An Apgar result is a typical example of aperiodic point data, typically consisting of 2 or 3 events, each containing 5 values and a 6th value repersenting the Apgar score for that time point. Point data may also be available from monitoring devices. For fine-granularity (e.g. 1 second) data, the number of samples may be too voluminous for the health record, and more efficient recording in the form of summary Interval events (see below) might be desired. The diagram below  illustrates the structure of a <code>History</code> containing <code>Point_events</code>.</p>
</div>
<div id="history_bp" class="imageblock text-center text-center">
<div class="content">
<img src="patterns/diagrams/history_bp.svg" alt="history bp">
</div>
<div class="title">Figure 3. Structure of <code>History&lt;T&gt;</code> of <code>Point_events</code></div>
</div>
</div>
<div class="sect3">
<h4 id="_interval_events"><a class="anchor" href="#_interval_events"></a>2.4.4. Interval Events</h4>
<div class="paragraph">
<p>Instances of the <code>Interval_event</code> class are used to express values corresponding to an interval in time. The <code>Interval_event.<em>width</em></code> attribute defines the duration of the interval; and the inherited <code><em>time</em></code> value corresponds to the <em>trailing edge</em> of the event.</p>
</div>
<div class="paragraph">
<p>The semantics of the Interval event type in this model are that the values effectively summarise actual instantaneous values of a datum that have occurred during the period of the event interval. The mathematical meaning of the data value of any particular interval event is given by the <code><em>math_function</em></code> attribute. This is coded by the <a href="https://github.com/openEHR/specifications-TERM/blob/master/computable/XML/en/openehr_terminology.xml">openEHR vocabulary <code>event math function</code></a>, and takes values such as <code>145|minimum|</code>, <code>144|maximum|</code>, <code>146|mean|</code>, <code>147|change|</code> and so on. The math function value on a particular event applies to all the data points attached to the event <code><em>data</em></code> attribute.</p>
</div>
<div class="paragraph">
<p>The particular math functions used in each Interval event in a History may vary throughout the History; for example, one 4-hour Interval event might contain data representing average values, while a following event might contain data representing maximum values for the same or a later time point. Such data can be conveniently used for generating sophisticated graphs of the underlying datum over time. The next figure illustrates a History containing 2 pairs of 4-hour blood pressure Interval events, with each pair containing maximum and mean blood pressure value structures for <code>+4h</code> and <code>+8h</code> timepoints (each of which consist of a systolic and diastolic value).</p>
</div>
<div id="history_bp_math" class="imageblock text-center text-center">
<div class="content">
<img src="patterns/diagrams/history_bp_math.svg" alt="history bp math">
</div>
<div class="title">Figure 4. Structure of <code>History&lt;T&gt;</code> of <code>Interval_events</code></div>
</div>
<div class="paragraph">
<p>Interval events can overlap other interval or point events within the same History. A situation where this may occur is with measurement of different periods of vital signs, such as 4-hourly blood pressure events, overlapped by a 24-hour event which contains the values over a period of 6 x 4 hour periods. In general a long Interval event can overlap any combination of Point or Interval events, as shown in the following figure.</p>
</div>
<div id="history_event_overlapping" class="imageblock text-center text-center">
<div class="content">
<img src="patterns/diagrams/history_event_overlapping.png" alt="history event overlapping" width="60%">
</div>
<div class="title">Figure 5. Overlapping Events</div>
</div>
</div>
<div class="sect3">
<h4 id="_change_data"><a class="anchor" href="#_change_data"></a>2.4.5. Change Data</h4>
<div class="paragraph">
<p>One sub-category of interval data that deserves mention is change data. There are three event math function terms used for indicating changes in data values as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>147|change|</code>: this means that the value recorded is the difference between the value now and the value some time previously. It can be positive or negative;</p>
</li>
<li>
<p><code>522|increase|</code>: the value recorded for the change is positive. The name (i.e. <code>Node.<em>name</em></code>) chosen for the item in an archetype carries the semantic of positivity e.g. 'increase of &#8230;&#8203;.; rise of&#8230;&#8203;.; &#8230;&#8203;.gain' etc;</p>
</li>
<li>
<p><code>521|decrease|</code>: the value recorded for the change is positive. But the name chosen for the item carries the semantic of negativity e.g. 'decrease of &#8230;&#8203;.; fall of &#8230;&#8203;.; &#8230;&#8203;. loss'.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following examples show how the data and these math functions are coordinated.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>weight last week was 76 kg. Wait this week = 74 kg. Possible instances:</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Item Name<br>
in Archetype</th>
<th class="tableblock halign-left valign-top">Value<br>
stored</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Math Function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">'weight change'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+ 2kg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Dv_quantity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openehr::147|change|</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">'weight loss'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(+)2kg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Dv_quantity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openehr::521|decrease|</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">'weight loss'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openehr::521|decrease|</code></p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>weight last week was 80 kg. Weight this week = 83 kg. Possible instances:</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Item Name<br>
in Archetype</th>
<th class="tableblock halign-left valign-top">Value<br>
stored</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Math Function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">'weight change'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(+)3kg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Dv_quantity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openehr::147|change|</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">'weight increase'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(+)3kg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Dv_quantity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openehr::522|increase|</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">'weight gain'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openehr::522|increase|</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The use of these math function indicators allows the correct representation of change values, no matter
how they were captured, in a computable form.</p>
</div>
</div>
<div class="sect3">
<h4 id="_summary_event_data"><a class="anchor" href="#_summary_event_data"></a>2.4.6. Summary Event Data</h4>
<div class="paragraph">
<p>A relatively common situation particularly in laboratory testing is the existence of a "summarising"
event which accompanies more detailed historical data. Examples where this arises include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a series of exams with a single radiologist report for all of them (the report might include one or more key images);</p>
</li>
<li>
<p>graphical summary of a dynamic challenge test such as Glucose tolerance test;</p>
</li>
<li>
<p>some comment about the pattern of values on a set of observed values in series.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Such data are accommodated within the model via the optional <code>History.<em>summary</em></code> attribute, which is
itself a structure, archetypable separately from the structure of the main data. In the first example
above, the summary data might consist of an <code>Info_node</code> object containing a textual report; in the
second, an <code>Info_node</code> object containing a image within a <code>Dv_multimedia</code> instance.</p>
</div>
</div>
<div class="sect3">
<h4 id="_efficient_representation_of_real_time_device_data"><a class="anchor" href="#_efficient_representation_of_real_time_device_data"></a>2.4.7. Efficient Representation of Real-time Device Data</h4>
<div class="paragraph">
<p>A useful practical consequence of the Interval Event is that it allows long periods of stable data to be represented with a single Interval event, while interesting perturbations will be represented with a number of fine-grained Interval or Point Events. In the example in the next figure, Event instances are used represent 4 hours of data consisting of 14,400 x 1 second samples from a blood pressure monitor. The optional <code>Interval_event.<em>sample_count</em></code> attribute can be used to record the number of original samples summarised in the event. In the illustration, the <code><em>math_function</em></code> is shown as <code>146|mean|</code>; clearly in the first long period, the monitored datum was not absolutely flat. The implication is that the recording software was configured to regard variations in a small band (e.g. 5mm Hg) as insignificant, and only to create new Event objects when the underlying values moved outside the band. Another approach would have been to create two Interval Event objects for each long period, one giving minimum value, the other maximum value, still based on the principle of generating one such pair for periods when the underlying data remained within specified limits. Regardless of the details, this general approach provides a way to include hours of fine-grained data from devices like vital signs monitors in very little space; the data simply need to be transformed into equivalent openEHR History form first.</p>
</div>
<div id="history_data_compression" class="imageblock text-center text-center">
<div class="content">
<img src="patterns/diagrams/history_data_compression.svg" alt="history data compression">
</div>
<div class="title">Figure 6. Data compression effect of History with Interval Events</div>
</div>
</div>
<div class="sect3">
<h4 id="_class_descriptions_2"><a class="anchor" href="#_class_descriptions_2"></a>2.4.8. Class Descriptions</h4>
<div class="sect4">
<h5 id="_event_class"><a class="anchor" href="#_event_class"></a>2.4.8.1. Event Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>Event (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Defines the abstract notion of a single event in a series. This class is generic, allowing types to be generated which are locked to particular spatial types, such as <code>EVENT&lt;ITEM_LIST&gt;</code>. Subtypes express point or intveral data.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_locatable_class">Locatable</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>time</strong>: <code><a href="#_date_time_class">Date_time</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Time of this event. If the width is non-zero, it is the time point of the trailing edge of the event.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>items</strong>: <code>List&lt;<a href="#_node_class">Node</a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Constituent Nodes for this event.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>offset</strong> (): <code><a href="#_duration_class">Duration</a></code><br>
<br>
<em>Post_condition</em>: <code>Result = time.diff(parent.origin)</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Offset of this event from origin, computed as time.diff(parent.origin).</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Offset_validity1</em>: <code>offset /= Void and then offset = time.diff (parent.origin)</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_point_event_class"><a class="anchor" href="#_point_event_class"></a>2.4.8.2. Point_event Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Point_event</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Defines a single point event in a series.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_event_class">Event</a></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_interval_event_class"><a class="anchor" href="#_interval_event_class"></a>2.4.8.3. Interval_event Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Interval_event</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Defines a single interval event in a series.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_event_class">Event</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>width</strong>: <code><a href="#_duration_class">Duration</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Duration of the time interval during which the values recorded under <code>data</code> are true and, if set, the values recorded under <code>state</code> are true. Void if an instantaneous event.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sample_count</strong>: <code><a href="#_integer_class">Integer</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional count of original samples to which this event corresponds.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sample_function</strong>: <code><a href="#_sample_function_kind_enumeration">Sample_function_kind</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mathematical function of the data of this event, e.g.  maximum, mean etc. Coded using <a href="https://github.com/openEHR/terminology/blob/master/openEHR_RM/en/openehr_terminology.xml">openEHR vocabulary <code>event math function</code></a>. Default value <code>640&#124;actual&#124;</code>, meaning 'actual value'.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>interval_start_time</strong> (): <code><a href="#_date_time_class">Date_time</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Start time of the interval of this event.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Math_function_validity</em>: <code>terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_event_math_function, math_function.defining_code)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Interval_start_time_valid</em>: <code>interval_start_time = time - width</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_history_instance_structures"><a class="anchor" href="#_history_instance_structures"></a>2.5. History Instance Structures</h3>
<div class="sect3">
<h4 id="_single_sample"><a class="anchor" href="#_single_sample"></a>2.5.1. Single Sample</h4>
<div class="paragraph">
<p>The following diagram illustrates a single weight measurement. The Event objects contain the timing information,
which in this case is simply the time of measurement (the origin).</p>
</div>
<div id="history_single_sample" class="imageblock text-center text-center">
<div class="content">
<img src="patterns/diagrams/history_single_sample.svg" alt="history single sample" width="50%">
</div>
<div class="title">Figure 7. Single sample Instance Structure</div>
</div>
</div>
<div class="sect3">
<h4 id="_5_minute_blood_pressure_averages"><a class="anchor" href="#_5_minute_blood_pressure_averages"></a>2.5.2. 5-minute Blood Pressure Averages</h4>
<div class="paragraph">
<p>The next figure illustrates two Interval events representing 5 minute blood pressure averages, the first at
5 minutes' offset from an initial event and lasting 5 minutes, the second 5 minutes later.</p>
</div>
<div id="history_bp_series_instances" class="imageblock text-center text-center">
<div class="content">
<img src="patterns/diagrams/history_bp_series_instances.svg" alt="history bp series instances" width="60%">
</div>
<div class="title">Figure 8. Blood Pressure Series History Instance Structure</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_participation_package"><a class="anchor" href="#_participation_package"></a>3. Participation Package</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_2"><a class="anchor" href="#_overview_2"></a>3.1. Overview</h3>
<div class="paragraph">
<p>The classes presented in this section provide a means of including references to external entities, including demographic entities, that are represented in external systems.</p>
</div>
<div id="participation_package" class="imageblock text-center text-center">
<div class="content">
<img src="UML/diagrams/BASE-patterns.data_structures.participation.svg" alt="BASE patterns.data structures.participation">
</div>
<div class="title">Figure 9. patterns.entity_reference Package</div>
</div>
</div>
<div class="sect2">
<h3 id="_design_principles"><a class="anchor" href="#_design_principles"></a>3.2. Design Principles</h3>
<div class="sect3">
<h4 id="_referring_to_external_entities"><a class="anchor" href="#_referring_to_external_entities"></a>3.2.1. Referring to External Entities</h4>
<div class="paragraph">
<p>External demographic parties (individuals, institutions, other autonomous entities) may be referenced from S2 platform data either via a direct <code>Entity_ref_node</code> reference, or via a <em>participation</em> object. The former indicates the entity, with the kind of participation being known, while the latter additionally enables representation of the type of participation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_class_descriptions_3"><a class="anchor" href="#_class_descriptions_3"></a>3.3. Class Descriptions</h3>
<div class="sect3">
<h4 id="_participation_class"><a class="anchor" href="#_participation_class"></a>3.3.1. Participation Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Participation</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Model of a participation of a Party (any Actor or Role) in an activity.  Used to represent any participation of a Party in some activity, which is not  explicitly in the model, e.g. assisting nurse. Can be used to record past or  future participations.</p>
</div>
<div class="paragraph">
<p>Should not be used in place of more permanent relationships between demographic entities.</p>
</div>
<div class="paragraph">
<p>GRAPHITE: equivalent of Attribution CEM</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_locatable_class">Locatable</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>function</strong>: <code><a href="#_terminology_term_class">Terminology_term</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The function of the Party in this participation. Note that a given party might participate in more than one way in a particular activity.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>role</strong>: <code><a href="#_terminology_term_class">Terminology_term</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Role of participant within the organisation, e.g. cardiologist, senior nurse.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>performer</strong>: <code><a href="#_entity_ref_node_class">Entity_ref_node</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The id and possibly demographic system link of the party participating in the activity.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>mode</strong>: <code><a href="#_terminology_term_class">Terminology_term</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional field for recording the 'mode' of the performer / activity interaction, e.g. present, by telephone, by email etc.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>time</strong>: <code><a href="#_interval_class">Interval</a>&lt;<a href="#_date_time_class">Date_time</a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The time interval during which the participation took place, if it is used in an observational context (i.e. recording facts about the past); or the intended time interval of the participation when used in future contexts, such as EHR Instructions.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_archetyped_package"><a class="anchor" href="#_archetyped_package"></a>4. Archetyped Package</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_3"><a class="anchor" href="#_overview_3"></a>4.1. Overview</h3>
<div class="paragraph">
<p>The <code>archetyped</code> package defines the core types <code>Pathable</code>, <code>Locatable</code>, <code>Archetyped</code>, and <code>LINK</code>. It is illustrated in <a href="#archetyped_package">Figure 10</a>.</p>
</div>
<div id="archetyped_package" class="imageblock text-center text-center">
<div class="content">
<img src="UML/diagrams/BASE-patterns.archetyped.svg" alt="BASE patterns.archetyped">
</div>
<div class="title">Figure 10. base.patterns.archetyped Package</div>
</div>
<div class="sect3">
<h4 id="_the_pathable_class"><a class="anchor" href="#_the_pathable_class"></a>4.1.1. The Pathable Class</h4>
<div class="paragraph">
<p>The <code>Pathable</code> class defines the pathing capabilities used by nearly all classes in the openEHR reference model, mostly via inheritance of <code>Locatable</code>. The defining characteristics of <code>Pathable</code> objects are that they can locate child objects using paths, and they know their parent object in a compositional hierarchy. The <code><em>parent</em></code> feature is defined as abstract in the model, and may be implemented in any way convenient.</p>
</div>
<div class="paragraph">
<p>A number of functions provide the path functionality, of which <code><em>item_at_path()</em></code> and <code><em>items_at_path()</em></code> are the key functions. The former returns an item corresponding to a unique path, i.e. a path that resolves against the data structure to a single node. The latter returns a list of items corresponding to a non-unique path. These functions can be used safely using the following pattern, but can also be used without checking the validity of paths, if this is known a priori in the code anyway.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">if</span><span class="tok-w"> </span><span class="tok-p">(</span><span class="tok-n">path_exists</span><span class="tok-w"> </span><span class="tok-p">(</span><span class="tok-n">a_path</span><span class="tok-p">))</span><span class="tok-w"> </span><span class="tok-p">{</span>
<span class="tok-w">    </span><span class="tok-k">if</span><span class="tok-w"> </span><span class="tok-p">(</span><span class="tok-n">path_unique</span><span class="tok-w"> </span><span class="tok-p">(</span><span class="tok-n">a_path</span><span class="tok-p">))</span><span class="tok-w"> </span><span class="tok-p">{</span>
<span class="tok-w">        </span><span class="tok-n">x</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">item_at_path</span><span class="tok-w"> </span><span class="tok-p">(</span><span class="tok-n">a_path</span><span class="tok-p">);</span>
<span class="tok-w">		</span><span class="tok-c1">// process one item</span>
<span class="tok-w">	</span><span class="tok-p">}</span>
<span class="tok-w">    </span><span class="tok-k">else</span><span class="tok-w"> </span><span class="tok-p">{</span>
<span class="tok-w">        </span><span class="tok-n">list_of_x</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">items_at_path</span><span class="tok-w"> </span><span class="tok-p">(</span><span class="tok-n">a_path</span><span class="tok-p">);</span>
<span class="tok-w">        </span><span class="tok-c1">//iterate the list</span>
<span class="tok-w">    </span><span class="tok-p">}</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_the_locatable_class"><a class="anchor" href="#_the_locatable_class"></a>4.1.2. The Locatable Class</h4>
<div class="paragraph">
<p>Most classes in the openEHR reference model inherit from the <code>Locatable</code> class, which defines the idea of 'locatability in an archetyped structure'. <code>Locatable</code> defines a runtime name and an <code><em>archetype_node_id</em></code>. The <code><em>archetype_node_id</em></code> is the standardised semantic code for a node and comes from the corresponding node in the archetype used to create the data. The only exception is at archetype root points in data, where <code><em>archetype_node_id</em></code> carries the archetype identifier in string form rather than an interior node id from an archetype. <code>Locatable</code> also provides the attribute <code><em>archetype_details</em></code>, which is non-Void for archetype root points in data, and carries meta-data relevant to root points. The <code><em>name</em></code> attribute carries a name created at runtime. The 'meaning' of any node is derived formally from the archetype by obtaining the text value for the <code><em>archetype_node_id</em></code> code from the archetype <code>ontology</code> section, in the language required.</p>
</div>
<div class="paragraph">
<p>The <code><em>name</em></code> and <code><em>archetype_node_id</em></code> valuesin a <code>Locatable</code> instance are often the same semantically, but may differ. For example, in "problem/SOAP" Sections (i.e. headings), the name of a section at the problem level might be "diabetes", but its meaning might be "problem". The default value for <code><em>name</em></code> should be assumed to be the text value in the local language for the <code><em>archetype_node_id</em></code> code on the node in question, unless explicitly set otherwise.</p>
</div>
<div class="sect4">
<h5 id="_unique_node_identification"><a class="anchor" href="#_unique_node_identification"></a>4.1.2.1. Unique Node Identification</h5>
<div class="paragraph">
<p><code>Locatable</code> descendants may have a <code><em>uid</em></code>, containing a GUID. In the current openEHR architecture, GUIDs are not needed to identify data nodes, since paths are used to reference all nodes inside top-level structures (i.e. <code>Compositions</code> etc). Accordingly all references between parts of an EHR are represented in terms of <code>Locatable_REFs</code> or <code>DV_EHR_URIs</code> (the former is a reference to an <code>OBJECT_VERSION_ID</code> with a path appended; the latter is the stringified URI form). This would allow for example, one Entry to reference the serum sodium value in another Entry in version 2 of a Versioned Composition for a laboratory test on 12/Apr/2004. The <code><em>uid</em></code> attribute will usually be empty in most EHR data in most openEHR EHR systems.</p>
</div>
<div class="paragraph">
<p>The exception is the top-level types such as <code>Composition</code>, <code>Ehr_status</code>, <code>PARTY</code> etc for which it is recommended to set the <code><em>uid</em></code> value to a copy of the <code><em>uid.object_id()</em></code> value of the owning <code>Version</code> object (usually an <code>Original_version</code>), i.e. the leading Uid, which is normally a GUID. This enables easy identification of standalone top-level objects in a serialised form. For example, if the <code>Original_version.uid</code> is <code>87284370-2D4B-4e3d-A3F3-F303D2F4F34B::uk.nhs.ehr1::2</code>, the GUID <code>87284370-2D4B-4e3d-A3F3-F303D2F4F34B</code> would be copied to the contained <code>Composition.uid</code> field.</p>
</div>
<div class="paragraph">
<p>Another use for <code>Locatable.<em>uid</em></code> is in EHR Extracts, which contain serialised expressions of EHR content. In an Extract, <code><em>uid</em></code> could be set on some or all nodes to a value generated by concatenating the <code><em>uid</em></code> value of the enclosing Version object (i.e. <code>Version.<em>uid</em></code>) and the unique runtime path to the particular node. This may be useful to the receiver system for the purpose of referencing particular data nodes when communicating to the sender, or another system. This use of <code><em>uid</em></code> is not however mandatory, since for each node in an Extract item, the <code><em>uid</em></code> value can be generated at any time (including at the receiver system).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
some classes in the openEHR architecture that do not inherit from <code>Locatable</code> but require a Uid, such as <code>Versioned_object</code>, <code>Version</code> etc, explicitly define their own <code><em>uid</em></code> attributes.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_feeder_system_audit"><a class="anchor" href="#_feeder_system_audit"></a>4.1.3. Feeder System Audit</h4>
<div class="paragraph">
<p>The data in any part of the EHR may be obtained from a feeder system, i.e. a source system which does not obey the versioning, auditing and content semantics of openEHR (data in the EHR which have been sourced from another openEHR system are dealt with in the Common IM, Change control section). The <code>Feeder_audit</code> class defines the semantics of an audit trail which is constructed to describe the origin of data that have been transformed into openEHR form and committed to the system. There are a number of aspects to the problem of transforming data for committal into an openEHR system, dealt with in the following subsections.</p>
</div>
<div class="sect4">
<h5 id="_requirements_2"><a class="anchor" href="#_requirements_2"></a>4.1.3.1. Requirements</h5>
<div class="paragraph">
<p>The model of Feeder audit is designed to satisfy the following requirements with respect to EHR content sourced from non-openEHR systems:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>record medico-legal audit information from the originating system (e.g. pathology lab system) similar to that captured in the <code>Audit_details</code> class in the <code>change_control</code> package;</p>
</li>
<li>
<p>record information identifying the immediate system from which the content was obtained (might not be the originating system);</p>
</li>
<li>
<p>record sufficient information to distinguish incoming items from each other, and to enable the detection of duplicates and new versions of the same item;</p>
</li>
<li>
<p>allow the inclusion of the source content either as a link or inline.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_design_principles_2"><a class="anchor" href="#_design_principles_2"></a>4.1.3.2. Design Principles</h5>
<div class="paragraph">
<p>The design of the Feeder audit part of the reference model is based on a generalised model of data communication in which various elements are identified, as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>the originating system</em>: the computer system where the information item was initially created, e.g. the system at a pathology laboratory or a reporting system for a number of laboratories;</p>
</li>
<li>
<p><em>intermediate systems</em>: any system which moves information from the originating system to an openEHR system;</p>
</li>
<li>
<p><em>the feeder system</em>: the intermediate system from which the information item was directly obtained by the openEHR system; this might be the originating system, or it may be a distinct intermediate system;</p>
</li>
<li>
<p><em>the committing openEHR system</em>: the openEHR system where the information item is transformed into openEHR form and committed as a Composition;</p>
</li>
<li>
<p><em>openEHR converter</em>: a component whose job it is to convert non-openEHR information into a form compliant with the openEHR reference model and chosen archetypes;</p>
</li>
<li>
<p><em>original content store</em>: some EHR systems may have an associated persistent repository of content as received from external systems, e.g. a message or document database.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#feeder_chain">Figure 11</a> illustrates these elements, shown as a "feeder chain", along with typical meta-data available in messages from each system. In general, not much can be assumed about systems in the feeder chain. The originating system may or may not correspond to the place of the clinical activity - it is not uncommon for a pathology company to have a centralised report issuing location while having numerous physical laboratories. There is often limited consistency in the way identifiers are assigned, timestamps are created, and information is structured and coded. In general, information from a feeder system is in response to a request, often a pathology order, although the request/response pattern probably cannot be assumed in all cases.</p>
</div>
<div id="feeder_chain" class="imageblock text-center text-center">
<div class="content">
<img src="patterns/diagrams/feeder_chain.png" alt="feeder chain" width="80%">
</div>
<div class="title">Figure 11. Abstract Model of Feeder Chain</div>
</div>
<div class="paragraph">
<p>The idea underlying the openEHR Feeder audit model is that there are two groups of meta-data which should be recorded about an imported information item. The first is medico-legal meta-data about its creation: the system of origin, who created it and when it was created. The second is identifying meta-data for the item from the originating and feeder system, and potentially other intermediate systems in the feeder chain, where necessary to support duplicate detection, version detection and so on.</p>
</div>
</div>
<div class="sect4">
<h5 id="_meta_data"><a class="anchor" href="#_meta_data"></a>4.1.3.3. Meta-data</h5>
<div class="paragraph">
<p>The potentially available medico-legal meta-data about the received item is as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>identifier of the originating system (where the item was originally committed);</p>
</li>
<li>
<p>identifier of the information item in the originating system;</p>
</li>
<li>
<p>agent who committed the item;</p>
</li>
<li>
<p>timestamp of committal or creation of the item;</p>
</li>
<li>
<p>type of change, e.g. initial creation, correction (including deletion of a subpart), logical deletion (e.g. due to cancellation of order);</p>
</li>
<li>
<p>status of information, e.g. interim, final;</p>
</li>
<li>
<p>version id, where versioning is supported.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The above information is equivalent to the audit trail and versioning data captured when information created in an openEHR system is committed in a Composition version.</p>
</div>
<div class="paragraph">
<p>Various kinds of identifying information may be required including the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>subject identifier (often more than one, e.g. national patient id, GP&#8217;s local patient id, lab&#8217;s local patient id) are usually recorded and may be required for traceability purposes;</p>
</li>
<li>
<p>subject identifier(s) may identify someone other than the subject of the record as being the subject of the incoming item;</p>
</li>
<li>
<p>location of the feeder system;</p>
</li>
<li>
<p>identifier of the feeder system (which may be one of many at the feeder system location);</p>
</li>
<li>
<p>identifier the feeder system uses for the item in question (often known as an "accession id");</p>
</li>
<li>
<p>identifier of request or order to which the information is a response (sometimes known as a "placer&#8217;s request id");</p>
</li>
<li>
<p>identifier of the information item used by the originating system (sometimes known as a "filler&#8217;s request id");</p>
</li>
<li>
<p>timestamp(s) assigned by feeder system to the item.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some or all of this information will usually be sufficient to perform a number of tasks as follows.</p>
</div>
</div>
<div class="sect4">
<h5 id="_traceability"><a class="anchor" href="#_traceability"></a>4.1.3.4. Traceability</h5>
<div class="paragraph">
<p>The first task is to support medico-legal investigation into the path of the information item through the health computing infrastructure. This requires the availability of sufficient identifier information that the origin of the information item can be traced. Subject identifiers where available should be used to ensure that the received data go into the correct EHR, by ensuring that the relevant lookups in client directories or other lookup mechanisms can be effected. Again, in rare cases, the subject of the incoming data item may not necessarily be the subject of the EHR - a test result may be made from a relative or other associate which will be stored in the patient&#8217;s EHR.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_detection"><a class="anchor" href="#_version_detection"></a>4.1.3.5. Version Detection</h5>
<div class="paragraph">
<p>The second is to detect new versions of an item (e.g. interim and final versions of a microbiology test result). This can usually be achieved by using various identifiers as well as the originating system version id and/or content status (interim, final etc). A new openEHR Composition version should always be created for each received version, even where the content does not change at all (e.g. a microbiology test where the result is "no growth" in both interim and final results).</p>
</div>
</div>
<div class="sect4">
<h5 id="_duplicate_detection"><a class="anchor" href="#_duplicate_detection"></a>4.1.3.6. Duplicate Detection</h5>
<div class="paragraph">
<p>Another task is to disambiguate duplicates (often caused by failure of a network connection during sending) coming from the feeder system. In some cases however duplicates are erroneously given new ids by the feeder system, giving the receiver the impression of a new information. In such cases, a further item of meta-data may be required:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>hash or content signature generated (most likely by the converter) from the received information.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_differentially_coded_data"><a class="anchor" href="#_differentially_coded_data"></a>4.1.3.7. Differentially Coded Data</h5>
<div class="paragraph">
<p>A further problem is that the originating system may send new versions of an item which are not complete in and of themselves, i.e. which only include new or changed elements with respect to a previous send of the same item. An example is a system which sends a correction to an HL7v2 blood test message, where the correction includes just the "serum sodium" data item. In this case, special processing will be required in the openEHR converter component, in order to regenerate a full data item from difference data when it is received. Such processing may also have to take account of deleted items.</p>
</div>
<div class="paragraph">
<p>In summary, the Feeder audit class design tries to accommodate the recording of as much of the above meta-data as is relevant in any particular case. It is up to the design of openEHR conversion front-end components as well as proper analysis of the situation to determine which identifiers are germane to the needs of traceability. In general, any meta-data of medico-legal significance should be captured where it is available.</p>
</div>
</div>
<div class="sect4">
<h5 id="_using_feeder_audit_in_converted_data"><a class="anchor" href="#_using_feeder_audit_in_converted_data"></a>4.1.3.8. Using Feeder Audit in Converted Data</h5>
<div class="paragraph">
<p>Although the design of the openEHR converter is outside the scope of the current document, it is worth considering a common design approach, and where the <code>Feeder_audit</code> class fits in. An effective way of converting non-openEHR data such as HL7v2 messages, relational data etc, is in two steps. The first is to perform a 'syntactic' conversion to Compositions containing instances of the <code>Generic_entry</code> class (described in the Integration IM), using 'legacy archetypes'. The resulting database will contain versioned Compositions containing <code>Generic_entry</code> instances; logically this database does not contain EHRs but simply external data converted to openEHR computational form. The relevant <code>Feeder_audit</code> instances should be attached to the Compositions containing the corresponding <code>Generic_entry</code> instances. The second step is to perform a 'semantic' conversion to subtypes of Entry, i.e. <code>Observation</code>, <code>Assertion</code>, <code>Order</code> and <code>Action</code>, according to standardised clinical archetypes. There are various possibilities for what to do with the Feeder audit. The minimum Feeder audit required on the final instance contains the originating system audit information, but none of the information to do with feeder or intermediate systems. This will satisfy medico-legal needs. Alternatively, a complete copy could be made, even though the feeder-related meta-data is probably only of use in the conversion environment. What the Feeder audit looks like in the EHR proper may depend on local legislation, norms or other factors. Alternative conversion approaches are also possible, in which no intermediate form of data exists.</p>
</div>
</div>
<div class="sect4">
<h5 id="_structural_correspondence"><a class="anchor" href="#_structural_correspondence"></a>4.1.3.9. Structural Correspondence</h5>
<div class="paragraph">
<p>There is no guarantee that the granularity of information recorded in the feeder system obeys the rules of Entries, Compositions, etc. As a consequence, feeder information might correspond to any level of information defined in the openEHR models. In order to be able to record feeder audit information correctly, the model has to be able to associate an audit trail with any granularity of object. For this reason, feeder audit information is attached to the <code>Locatable</code> class via the feeder_audit attribute, even though it is preferable by design to have it attached to the equivalent of Compositions or at least the equivalent of archetype entities (i.e. Compositions, Section trees and Entries). Its usual usage is to attach it to the outermost object to which it applies. In other words, in most cases, during a legacy data conversion process, the entirety of a Composition needs only one <code>Feeder_audit</code> to document its origins. In exceptional cases, where feeder data comes in in near real time, e.g. from an ICU database, separate <code>Feeder_audit</code> objects may need to be generated for parts of a Composition; each commit in this situation will create a stack of versions of one Composition, with a growing number of <code>Feeder_audit</code> objects attached to internal data nodes, each documenting the last import of data.</p>
</div>
<div class="paragraph">
<p>The Feeder audit information is included as part of the data of the Composition, rather than part of the audit trail of version committal, because it remains relevant throughout the versioning of a logical Composition, i.e. when a new version is created, the feeder information is retained as part of the current version to be seen and possibly modified, just as for the rest of its content. If the main part of the content is modified so drastically as to make the feeder audit irrelevant, it too can be removed. A second consequence of feeder and legacy systems is that structural data items may need to be synthesised in order to create valid structures, even though the source system does not have them. For example, a system may have the equivalent data of Clusters and Elements (see <a href="https://specifications.openehr.org/releases/RM/latest/data_structures.html" target="_blank" rel="noopener">openEHR Data Structures IM</a> or <a href="https://www.iso.org/standard/40784.html" target="_blank" rel="noopener">ISO 13606</a>), but no Entries, Sections or other higher-level data items; these have to be synthesised during conversion. To indicate synthesis of a data node, a <code>Feeder_audit</code> instance is attached to the <code>Locatable</code> in question, and its <code><em>change_type</em></code> set to "synthesised".</p>
</div>
</div>
<div class="sect4">
<h5 id="_original_content"><a class="anchor" href="#_original_content"></a>4.1.3.10. Original Content</h5>
<div class="paragraph">
<p>The features of the model described so far allow accurate referencing of content as it is known in source systems and intermediate feeder systems. A further feature of the <code>Feeder_audit</code> class, the <code><em>original_content</em></code> attribute allows the original content item itself to be either included inline or pointed to. If a link is used, the usual situation is that the content is in a store associated with the receiving system, such as a message or document database. The content could also be included inline. Since the <code><em>original_content</em></code> link is on a <code>Feeder_audit</code> object, more than one can be used within the same generated Composition if required. It may be deemed preferable to attach only a single link at the top node, i.e. the Composition node, since this establishes basic equivalent between the whole Composition and the whole document or message.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_class_definitions"><a class="anchor" href="#_class_definitions"></a>4.2. Class Definitions</h3>
<div class="sect3">
<h4 id="_pathable_class"><a class="anchor" href="#_pathable_class"></a>4.2.1. Pathable Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>Pathable (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>The <code>Pathable</code> class defines the pathing capabilities used by nearly all classes in the openEHR reference model, mostly via inheritance of <code>Locatable</code>. The defining characteristics of <code>Pathable</code> objects are that they can locate child objects using paths, and they know their parent object in a compositional hierarchy. The parent feature is defined as abstract in the model, and may be implemented in any way convenient.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_any_class">Any</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>parent</strong> (): <code><a href="#_pathable_class">Pathable</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Parent of this node in a compositional hierarchy.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>item_at_path</strong> (<br>
a_path: <code><a href="#_string_class">String</a>[1]</code><br>
): <code><a href="#_any_class">Any</a></code><br>
<br>
<em>Pre</em>: <code>path_unique (a_path)</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The item at a path (relative to this item); only valid for unique paths, i.e. paths that resolve to a single item.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>items_at_path</strong> (<br>
a_path: <code><a href="#_string_class">String</a>[1]</code><br>
): <code>List&lt;<a href="#_any_class">Any</a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>List of items corresponding to a non-unique path.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>path_exists</strong> (<br>
a_path: <code><a href="#_string_class">String</a>[1]</code><br>
): <code><a href="#_boolean_class">Boolean</a></code><br>
<br>
<em>Pre</em>: <code>not a_path.is_empty</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>True if the path exists in the data with respect to the current item.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>path_unique</strong> (<br>
a_path: <code><a href="#_string_class">String</a>[1]</code><br>
): <code><a href="#_boolean_class">Boolean</a></code><br>
<br>
<em>Pre</em>: <code>path_exists (a_path)</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>True if the path corresponds to a single item in the data.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>path_of_item</strong> (<br>
a_loc: <code><a href="#_pathable_class">Pathable</a>[1]</code><br>
): <code><a href="#_string_class">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The path to an item relative to the root of this archetyped structure.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_locatable_class"><a class="anchor" href="#_locatable_class"></a>4.2.2. Locatable Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>Locatable (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Root class of all information model classes that can be archetyped. Most classes in the openEHR reference model inherit from the <code>Locatable</code> class, which defines the idea of  locatability in an archetyped structure. <code>Locatable</code> defines a runtime name and an <code><em>archetype_node_id</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_pathable_class">Pathable</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>uid</strong>: <code><a href="#_uuid_class">Uuid</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional globally unique object identifier for root points of archetyped structures.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>archetype_node_id</strong>: <code><a href="#_string_class">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Design-time archetype identifier of this node taken from its generating archetype; used to build archetype paths. Always in the form of an at-code, e.g. <code>at0005</code>. This value enables a 'standardised' name for this node to be generated, by referring to the generating archetype local terminology.</p>
</div>
<div class="paragraph">
<p>At an archetype root point, the value of this attribute is always the stringified form of the <code><em>archetype_id</em></code> found in the <code><em>archetype_details</em></code> object.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>name</strong>: <code><a href="#_string_class">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Runtime name of this fragment, used to build runtime paths. This is the term provided via a clinical application or batch process to name this EHR construct: its retention in the EHR faithfully preserves the original label by which this entry was known to end users.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>archetype_details</strong>: <code><a href="#_archetyped_class">Archetyped</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Details of archetyping used on this node.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>feeder_audit</strong>: <code><a href="#_feeder_audit_class">Feeder_audit</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Audit trail from non-openEHR system of original commit of information forming the content of this node, or from a conversion gateway which has synthesised this node.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>is_archetype_root</strong> (): <code><a href="#_boolean_class">Boolean</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>True if this node is the root of an archetyped structure.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Links_valid</em>: <code>links /= Void implies not links.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Archetyped_valid</em>: <code>is_archetype_root xor archetype_details = Void</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Archetype_node_id_valid</em>: <code>not archetype_node_id.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_archetyped_class"><a class="anchor" href="#_archetyped_class"></a>4.2.3. Archetyped Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Archetyped</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Archetypes act as the configuration basis for the particular structures of instances defined by the reference model. To enable archetypes to be used to create valid data, key classes in the reference model act as  root  points for archetyping; accordingly, these classes have the <code><em>archetype_details</em></code> attribute set.</p>
</div>
<div class="paragraph">
<p>An instance of the class <code>ARCHETYPED</code> contains the relevant archetype identification information, allowing generating archetypes to be matched up with data instances.</p>
</div>
<div class="paragraph">
<p>TODO: use ARCHETYPE_HRID</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>archetype_id</strong>: <code><a href="#_archetype_id_class">Archetype_id</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Globally unique archetype identifier.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>template_id</strong>: <code><a href="#_archetype_id_class">Archetype_id</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Globally unique template identifier, if a template was active at this point in the structure. Normally, a template would only be used at the top of a top-level structure, but the possibility exists for templates at lower levels.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>rm_version</strong>: <code><a href="#_string_class">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Version of the openEHR reference model used to create this object. Expressed in terms of the release version string, e.g.  1.0 ,  1.2.4 .</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Rm_version_valid</em>: <code>not rm_version.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_link_class"><a class="anchor" href="#_link_class"></a>4.2.4. Link Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Link</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>The <code>Link</code> type defines a logical relationship between two items, such as two <code>Entrys</code> or an <code>Entry</code> and a <code>Composition</code>. Links can be used across compositions, and across EHRs. Multiple <code>Links</code> can be attached to the root object of any archetyped structure to give the effect of a 1&#8594;N link.</p>
</div>
<div class="paragraph">
<p>1:1 and 1:N relationships between archetyped content elements (e.g. <code>Entrys</code>) can be expressed by using one, or more than one, respectively, <code>Links</code>. Chains of links can be used to see problem threads or other logical groupings of items.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>meaning</strong>: <code><a href="#_terminology_term_class">Terminology_term</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Used to describe the relationship, usually in clinical terms, such as  in response to  (the relationship between test results and an order),  follow-up to  and so on. Such relationships can represent any clinically meaningful connection between pieces of information.</p>
</div>
<div class="paragraph">
<p>TODO: check use of DV_xxx types here.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>type</strong>: <code><a href="#_terminology_term_class">Terminology_term</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Indicates a clinical or domain-level meaning for the kind of link, for example 'problem' or 'issue'. If type values are designed appropriately, they can be used by the requestor of EHR extracts to categorise links which must be followed and which can be broken when the extract is created.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>target</strong>: <code><a href="#_uri_class">Uri</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The logical target object in the link relation, as per the linguistic sense of the meaning attribute.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_feeder_audit_class"><a class="anchor" href="#_feeder_audit_class"></a>4.2.5. Feeder_audit Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Feeder_audit</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>The <code>Feeder_audit</code> class defines an audit trail describing the origin of data that have been ingested and committed to the system.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>originating_system_item_ids</strong>: <code>List&lt;<a href="#_rwe_id_ref_class">Rwe_id_ref</a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Identifiers used for the item in the originating system, e.g. filler and placer ids.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>feeder_system_item_ids</strong>: <code>List&lt;<a href="#_rwe_id_ref_class">Rwe_id_ref</a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Identifiers used for the item in the feeder system, where the feeder system is distinct from the originating system.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>original_content</strong>: <code><a href="#_encapsulated_class">Encapsulated</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional inline inclusion of or reference to original content corresponding to the openEHR content at this node. Typically a URI reference to a document or message in a persistent store associated with the EHR.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>originating_system_audit</strong>: <code><a href="#_feeder_audit_details_class">Feeder_audit_details</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Any audit information for the information item from the originating system.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>feeder_system_audit</strong>: <code><a href="#_feeder_audit_details_class">Feeder_audit_details</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Any audit information for the information item from the feeder system, if different from the originating system.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_feeder_audit_details_class"><a class="anchor" href="#_feeder_audit_details_class"></a>4.2.6. Feeder_audit_details Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Feeder_audit_details</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Audit details for any system in a feeder system chain. Audit details here means the general notion of who/where/when the information item to which the audit is attached was created. None of the attributes is defined as mandatory, however, in different scenarios, various combinations of attributes will usually be mandatory. This can be controlled by specifying feeder audit details in legacy archetypes.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>system_id</strong>: <code><a href="#_string_class">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Identifier of the system which handled the information item. This is the IT system owned by the organisation legally responsible for handling the data, and at which the data were previously created or passed by an earlier system.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>location</strong>: <code><a href="#_entity_ref_node_class">Entity_ref_node</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Identifier of the particular site/facility within an organisation which handled the item. For computability, this identifier needs to be e.g. a PKI identifier which can be included in the identifier list of the <code>PARTY_IDENTIFIED</code> object.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>subject</strong>: <code><a href="#_entity_ref_node_class">Entity_ref_node</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Identifiers for subject of the received information item.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>provider</strong>: <code><a href="#_entity_ref_node_class">Entity_ref_node</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional provider(s) who created, committed, forwarded or otherwise handled the item.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>time</strong>: <code><a href="#_date_time_class">Date_time</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Time of handling the item. For an originating system, this will be time of creation, for an intermediate feeder system, this will be a time of accession or other time of handling, where available.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>version_id</strong>: <code><a href="#_string_class">String</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Any identifier used in the system such as  "interim" ,  "final" , or numeric versions if available.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>other_details</strong>: <code><a href="#_hash_class">Hash</a>&lt;<a href="#_string_class">String</a>, <a href="#_string_class">String</a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional attribute to carry any custom meta-data. May be archetyped.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>System_id_valid</em>: <code>not system_id.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references"><a class="anchor" href="#_references"></a>References</h2>
<div class="sectionbody">

</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-03-06 15:47:43 -0700
</div>
</div>
</body>
</html>